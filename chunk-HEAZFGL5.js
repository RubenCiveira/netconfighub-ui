import{a as Oe}from"./chunk-7XDVKKAV.js";import{a as Pe}from"./chunk-ODEYDJ67.js";import{a as He,b as Be,c as ye,d as Me,h as Ce,i as ee,j as we,k as We,l as Ve,o as Ae,p as Fe,q as tt,r as it,s as ot,t as nt,u as rt,v as at,y as lt,z as dt}from"./chunk-NWUJ2N7A.js";import{$a as P,$d as Xe,Aa as S,Ba as N,Bb as E,Bc as Z,Cb as B,Cc as ve,Dc as ge,De as et,Fa as a,Fb as p,Fc as be,Ga as s,Gb as I,Gc as _,Ha as m,Hc as te,Ia as v,Kc as Ue,L as Le,M as b,O as $e,Oa as se,Pa as X,Qb as Ke,Ra as U,Rb as D,Sa as u,Ta as Qe,U as $,Ua as Ge,V as Q,Zd as he,_ as n,_a as F,_d as Je,a as z,ab as A,eb as f,ee as Ye,fb as Y,fc as Ut,fe as H,ga as r,gb as T,ge as L,ka as c,kc as G,ke as xe,lc as K,le as _e,mc as k,me as De,ne as Te,o as J,oa as y,ob as me,oc as V,oe as Se,pa as M,pe as Ne,qb as pe,ra as ie,rb as qe,sa as h,sb as ze,sc as Ee,tb as je,vc as O,wb as C,wc as fe,xb as w,xc as ue,yb as R,ye as Ze,zc as x}from"./chunk-GUZMYLNP.js";function ti(i){let t=[];return i.name&&t.push(te.equal("name",i.name)),J(t)}function ii(){return J({allows:[{name:"create",allowed:!0},{name:"update",allowed:!0},{name:"delete",allowed:!0},{name:"list",allowed:!0},{name:"retrieve",allowed:!0}],fields:{noEditables:[]}})}function oi(i){return z({},i)}function ni(i){let t=z({},i);return J(t)}var j=class i{repo;static metadata(t){return{key:"uid",name:"vendor",provider:t.provider("uid","netconfighub_documents","netconfighub_vendor","netconfighub_attacheds",ii,ti,oi,ni),reference:e=>null}}constructor(t){this.repo=new Be(i.metadata(t))}acl(){return this.repo.acl()}checkAcl(t){return this.repo.checkAcl(t||null)}generateComb(){return this.repo.generateComb()}add(t){return t.uid=this.generateComb(),this.repo.add(t)}update(t){return this.repo.update(t)}deleteByKey(t){return this.repo.deleteByKey(t)}canDeleteSelection(){return this.repo.canDeleteSelection()}deleteSelection(t){return this.repo.deleteSelection(this.publicQueryFilter(t))}retrieve(t){return this.repo.retrieve(t)}projection(t){return this.repo.projection(t)}list(t){return this.repo.list(this.publicQueryFilter(t))}values(t){return this.repo.values(this.publicQueryFilter(t))}projections(t){return this.repo.projections(t)}displayProvider(){return{display:t=>t.name}}selectorProvider(t){return He({search:e=>{let o=t?t():{limit:10};return o.search=e,this.values(o)},display:e=>e.name,value:e=>({$ref:e.uid,$id:e.$id}),select:e=>e.$ref?this.retrieve(e.$ref):J(void 0),equals:(e,o)=>e.$ref===o.$ref})}publicQueryFilter(t){let e={};return t.search&&(e.search=t.search),t.uids&&(e.uids=t.uids.join(",")),t.limit&&(e.limit=t.limit),t.order&&(e.order=t.order),t.name&&(e.name=t.name),e}static \u0275fac=function(e){return new(e||i)($e(Ue))};static \u0275prov=Le({token:i,factory:i.\u0275fac,providedIn:"root"})};var ui=()=>["","NAME-ASC","NAME-DESC"];function vi(i,t){i&1&&v(0,"editable-text",1)}function gi(i,t){i&1&&v(0,"editable-text",2)}function bi(i,t){i&1&&v(0,"editable-choose",3),i&2&&a("options",qe(1,ui))}var st=class i extends Me{acl;uid=E(()=>this.value()?.uid);constructor(t){super(new ue({search:new x(""),name:new x(""),order:new x("")})),this.acl=t.acl(),B(()=>{this.acl.fetch(this.uid()||null)}),B(()=>{let e=this.acl(),o=this.value(),d=this.uid()?e?.specific:e?.generic;setTimeout(()=>{this.definedFixed.set(d?.fields?.noEditables||[]),this.definedHidden.set(d?.fields?.noVisibles||[])})}),this.defaultValues=()=>({search:"",name:"",order:""})}static \u0275fac=function(e){return new(e||i)(c(j))};static \u0275cmp=y({type:i,selectors:[["vendor-view-search"]],standalone:!1,features:[pe(ye.getValidableAccessorProvider(i)),ie],decls:4,vars:4,consts:[[3,"formGroup"],["formControlName","search","label","infrastructure.vendor.search.search"],["formControlName","name","label","infrastructure.vendor.search.name"],["formControlName","order","label","infrastructure.vendor.search.order",3,"options"]],template:function(e,o){e&1&&(s(0,"form-layout",0),S(1,vi,1,0,"editable-text",1),S(2,gi,1,0,"editable-text",2),S(3,bi,1,2,"editable-choose",3),m()),e&2&&(a("formGroup",o.form),r(),N(o.isVisible.search?1:-1),r(),N(o.isVisible.name?2:-1),r(),N(o.isVisible.order?3:-1))},dependencies:[Ce,ee,we,O,fe,ve,ge],encapsulation:2})};function Mi(i,t){i&1&&v(0,"editable-text",1)}var Re=class i extends Me{acl;uid=E(()=>this.value()?.uid);constructor(t){super(new ue({uid:new x(""),name:new x("",[Ee.required]),version:new x(0)})),this.acl=t.acl(),B(()=>{this.acl.fetch(this.uid()||null)}),B(()=>{let e=this.acl(),o=this.value(),d=this.uid()?e?.specific:e?.generic;setTimeout(()=>{this.definedFixed.set(d?.fields?.noEditables||[]),this.definedHidden.set(d?.fields?.noVisibles||[])})}),this.defaultValues=()=>({uid:"",name:"",version:0})}static \u0275fac=function(e){return new(e||i)(c(j))};static \u0275cmp=y({type:i,selectors:[["vendor-view-form-group"]],standalone:!1,features:[pe(ye.getValidableAccessorProvider(i)),ie],decls:2,vars:2,consts:[[3,"formGroup"],["formControlName","name","label","infrastructure.vendor.form-group.name"]],template:function(e,o){e&1&&(s(0,"form-layout",0),S(1,Mi,1,0,"editable-text",1),m()),e&2&&(a("formGroup",o.form),r(),N(o.isVisible.name?1:-1))},dependencies:[ee,we,O,fe,ve,ge],encapsulation:2})};var hi=["formTemplate"];function Ci(i,t){if(i&1){let e=X();v(0,"vendor-view-form-group",2,1),s(2,"div",3)(3,"button",4),U("click",function(){$(e);let d=u();return Q(d.save())}),f(4),C(5,"transloco"),m()()}if(i&2){let e=A(1),o=u();a("formControl",o.form)("fixed",o.fixedProperties())("hidden",o.hiddenProperties())("defined",o.definedProperties()),r(3),a("disabled",e.form.invalid||!e.form.dirty),r(),T(" ",w(5,6,"infrastructure.vendor.action.create.createButton")," ")}}var mt=class i{constructor(t,e){this.repository=t;this.acl=t.acl(),this.acl.fetch(null).subscribe(o=>{this.visibleValue.set(this.allowed(o?.generic))}),e.selectTranslateObject("action.create",{},"infrastructure/vendor").subscribe(o=>{o.label&&this.label.set(o.label),o.tooltip&&this.tooltip.set(o.tooltip),o.icon&&this.icon.set(o.icon),o.title&&this.title.set(o.title)})}name="create";contextual=!1;multiple=!1;container=n(void 0);selection=n([]);render=I("formTemplate");title=n("Creando nuevo vendor");label=n("Crear");icon=n("add");tooltip=n("Crea un nuevo item");default=p(!1);visibleValue=n(!1);enabledValue=n(!0);fixed=p();hidden=p();fixedProperties=E(()=>Object.keys(this.fixed()||{}));hiddenProperties=E(()=>Object.keys(this.hidden()||{}));definedProperties=E(()=>z(z({},this.hidden()||{}),this.fixed()||{}));form=new x(void 0);acl;visible(t){return this.visibleValue}enabled(t){return this.enabledValue}run(){this.form.patchValue({})}save(){let t=this.form.value;if(!t)throw Error("Unable to save without value");this.repository.add(t).subscribe(()=>this.container()?.close())}allowed(t){return!!t?.allows?.find(e=>e.name=="create")?.allowed}static \u0275fac=function(e){return new(e||i)(c(j),c(G))};static \u0275cmp=y({type:i,selectors:[["vendor-view-create-action"]],viewQuery:function(e,o){e&1&&F(o.render,hi,5),e&2&&P()},inputs:{default:[1,"default"],fixed:[1,"fixed"],hidden:[1,"hidden"]},standalone:!1,decls:2,vars:0,consts:[["formTemplate",""],["updateForm",""],[1,"main",3,"formControl","fixed","hidden","defined"],[1,"buttons"],["mat-raised-button","",3,"click","disabled"]],template:function(e,o){e&1&&h(0,Ci,6,8,"ng-template",null,0,R)},dependencies:[H,O,Z,Re,K],styles:[".main[_ngcontent-%COMP%]{flex:1;display:flex;flex-direction:column;overflow:auto}.buttons[_ngcontent-%COMP%]{padding:20px 10px}"]})};var Vi=["dialogTemplate"];function xi(i,t){i&1&&(s(0,"h2",1),f(1),C(2,"transloco"),m(),s(3,"mat-dialog-content")(4,"p"),f(5),C(6,"transloco"),m()(),s(7,"mat-dialog-actions")(8,"button",2),f(9),C(10,"transloco"),m(),s(11,"button",3),f(12),C(13,"transloco"),m()()),i&2&&(r(),Y(w(2,6,"infrastructure.vendor.action.delete.title")),r(4),Y(w(6,8,"infrastructure.vendor.action.delete.content")),r(3),a("mat-dialog-close",!1),r(),T(" ",w(10,10,"infrastructure.vendor.action.delete.cancelBtn")," "),r(2),a("mat-dialog-close",!0),r(),T(" ",w(13,12,"infrastructure.vendor.action.delete.okBtn")," "))}var ct=class i{constructor(t,e,o,d){this.repository=t;this.dialog=e;this.snakeBar=o;this.acl=t.acl(),this.acl.fetch(null).subscribe(l=>{this.visibleValue.set(this.allowed(l?.generic))}),d.selectTranslateObject("action.delete",{},"infrastructure/vendor").subscribe(l=>{l.label&&this.label.set(l.label),l.tooltip&&this.tooltip.set(l.tooltip),l.icon&&this.icon.set(l.icon),l.title&&this.title.set(l.title),l.dismiss&&(this.dismiss=l.dismiss),l.report&&(this.report=l.report)})}name="delete";contextual=!0;multiple=!1;container=n(void 0);selection=n([]);render=n(void 0);dialogTemplate=I("dialogTemplate");title=n("Borrando el item");label=n("Delete");icon=n("delete");tooltip=n("Borra el elemento seleccionado");default=p(!1);visibleValue=n(!1);enabledValue=n(!0);acl;dialgoRef;dialogSubs;dismiss="Close";report="Deleted...";visible(t){return this.visibleValue}enabled(t){return this.enabledValue}run(){let t=this.dialogTemplate();t&&(this.dialgoRef?.close(),this.dialgoRef=this.dialog.open(t),this.dialogSubs=this.dialgoRef.afterClosed().subscribe(e=>{e?this.delete(this.selection()[0]):this.container()?.close()}))}ngOnDestroy(){this.dialgoRef?.close(),this.dialogSubs?.unsubscribe()}delete(t){this.repository.deleteByKey(t.uid).subscribe(()=>{this.container()?.close(),this.snakeBar.open(this.report,this.dismiss,{duration:5e3})})}allowed(t){return!!t?.allows?.find(e=>e.name=="delete")?.allowed}static \u0275fac=function(e){return new(e||i)(c(j),c(xe),c(Ae),c(G))};static \u0275cmp=y({type:i,selectors:[["vendor-view-delete-action"]],viewQuery:function(e,o){e&1&&F(o.dialogTemplate,Vi,5),e&2&&P()},inputs:{default:[1,"default"]},standalone:!1,decls:2,vars:0,consts:[["dialogTemplate",""],["mat-dialog-title",""],["mat-button","",3,"mat-dialog-close"],["mat-button","","cdkFocusInitial","",3,"mat-dialog-close"]],template:function(e,o){e&1&&h(0,xi,14,14,"ng-template",null,0,R)},dependencies:[H,_e,De,Se,Te,K],styles:[".main[_ngcontent-%COMP%]{flex:1;display:flex;flex-direction:column;overflow:hidden}"]})};var Di=["dialogTemplate"];function Ti(i,t){i&1&&(s(0,"h2",1),f(1),C(2,"transloco"),m(),s(3,"mat-dialog-content")(4,"p"),f(5),C(6,"transloco"),m()(),s(7,"mat-dialog-actions")(8,"button",2),f(9),C(10,"transloco"),m(),s(11,"button",3),f(12),C(13,"transloco"),m()()),i&2&&(r(),Y(w(2,6,"infrastructure.vendor.action.delete-selection.title")),r(4),Y(w(6,8,"infrastructure.vendor.action.delete-selection.content")),r(3),a("mat-dialog-close",!1),r(),T(" ",w(10,10,"infrastructure.vendor.action.delete-selection.cancelBtn")," "),r(2),a("mat-dialog-close",!0),r(),T(" ",w(13,12,"infrastructure.vendor.action.delete-selection.okBtn")," "))}var pt=class i{constructor(t,e,o,d){this.repository=t;this.dialog=e;this.snakeBar=o;this.acl=t.acl(),this.acl.fetch(null).subscribe(l=>{this.visibleValue.set(this.allowed(l?.generic))}),d.selectTranslateObject("action.delete-selection",{},"infrastructure/vendor").subscribe(l=>{l.label&&this.label.set(l.label),l.tooltip&&this.tooltip.set(l.tooltip),l.icon&&this.icon.set(l.icon),l.title&&this.title.set(l.title),l.dismiss&&(this.dismiss=l.dismiss),l.report&&(this.report=l.report),l.progress&&(this.progress=l.progress)})}name="deleteSelection";contextual=!0;multiple=!0;container=n(void 0);selection=n([]);render=n(void 0);dialogTemplate=I("dialogTemplate");title=n("Borrando el item");label=n("Delete");icon=n("delete");tooltip=n("Borra el elemento seleccionado");default=p(!1);visibleValue=n(!1);enabledValue=n(!0);acl;dialgoRef;dialogSubs;dismiss="Close";report="Deleted...";progress="Deleted...";visible(t){return this.visibleValue}enabled(t){return this.enabledValue}run(){let t=this.dialogTemplate();t&&(this.dialgoRef?.close(),this.dialgoRef=this.dialog.open(t),this.dialogSubs=this.dialgoRef.afterClosed().subscribe(e=>{e?this.deleteSelection(this.selection()):this.container()?.close()}))}ngOnDestroy(){this.dialgoRef?.close(),this.dialogSubs?.unsubscribe()}deleteSelection(t){let e={uids:t.map(o=>o.uid)};this.dialgoRef=this.dialog.open(tt,{data:{title:this.progress,progress:this.repository.deleteSelection(e)}}),this.dialogSubs=this.dialgoRef.afterClosed().subscribe(o=>{this.container()?.selectionModel.clearSelection(),this.container()?.close(),this.snakeBar.open(this.report,this.dismiss,{duration:5e3})})}allowed(t){return this.repository.canDeleteSelection()&&!!t?.allows?.find(e=>e.name=="delete")?.allowed}static \u0275fac=function(e){return new(e||i)(c(j),c(xe),c(Ae),c(G))};static \u0275cmp=y({type:i,selectors:[["vendor-view-delete-selection-action"]],viewQuery:function(e,o){e&1&&F(o.dialogTemplate,Di,5),e&2&&P()},inputs:{default:[1,"default"]},standalone:!1,decls:2,vars:0,consts:[["dialogTemplate",""],["mat-dialog-title",""],["mat-button","",3,"mat-dialog-close"],["mat-button","","cdkFocusInitial","",3,"mat-dialog-close"]],template:function(e,o){e&1&&h(0,Ti,14,14,"ng-template",null,0,R)},dependencies:[H,_e,De,Se,Te,K],styles:[".main[_ngcontent-%COMP%]{flex:1;display:flex;flex-direction:column;overflow:hidden}"]})};var ft=class i{data=p.required();form=new x({value:void 0,disabled:!0});constructor(){B(()=>this.form.patchValue(this.data()))}static \u0275fac=function(e){return new(e||i)};static \u0275cmp=y({type:i,selectors:[["vendor-view-detail"]],inputs:{data:[1,"data"]},standalone:!1,decls:1,vars:1,consts:[[3,"formControl"]],template:function(e,o){e&1&&v(0,"vendor-view-form-group",0),e&2&&a("formControl",o.form)},dependencies:[O,Z,Re],encapsulation:2})};var Ai=["formTemplate"];function Fi(i,t){if(i&1&&v(0,"vendor-view-detail",1),i&2){let e=u();a("data",e.selection()[0])}}var ut=class i{name="detail";contextual=!0;multiple=!1;container=n(void 0);selection=n([]);render=I("formTemplate");title=n("Detalle del item");label=n("Detalle");icon=n("preview");tooltip=n("Muestra el detalle del elemento seleccionado");default=p(!1);visibleValue=n(!1);enabledValue=n(!0);constructor(t){t.selectTranslateObject("action.detail",{},"infrastructure/vendor").subscribe(e=>{e.label&&this.label.set(e.label),e.tooltip&&this.tooltip.set(e.tooltip),e.icon&&this.icon.set(e.icon),e.title&&this.title.set(e.title)})}visible(t){return this.visibleValue}enabled(t){return this.enabledValue}run(){}allowed(t){return!!t?.allows?.find(e=>e.name=="retrieve")?.allowed}static \u0275fac=function(e){return new(e||i)(c(G))};static \u0275cmp=y({type:i,selectors:[["vendor-view-detail-action"]],viewQuery:function(e,o){e&1&&F(o.render,Ai,5),e&2&&P()},inputs:{default:[1,"default"]},standalone:!1,decls:2,vars:0,consts:[["formTemplate",""],[1,"main",3,"data"]],template:function(e,o){e&1&&h(0,Fi,1,1,"ng-template",null,0,R)},dependencies:[ft],styles:[".main[_ngcontent-%COMP%]{flex:1;display:flex;flex-direction:column;overflow:auto}"]})};var Ri=["formTemplate"];function Ii(i,t){if(i&1){let e=X();v(0,"vendor-view-form-group",2,1),s(2,"div",3)(3,"button",4),U("click",function(){$(e);let d=u();return Q(d.save())}),f(4),C(5,"transloco"),m()()}if(i&2){let e=A(1),o=u();a("formControl",o.form)("fixed",o.fixedProperties())("hidden",o.hiddenProperties())("defined",o.definedProperties()),r(3),a("disabled",e.form.invalid||!e.form.dirty),r(),T(" ",w(5,6,"infrastructure.vendor.action.edit.saveBtn")," ")}}var vt=class i{constructor(t,e){this.repository=t;this.acl=t.acl(),this.acl.fetch(null).subscribe(o=>{this.visibleValue.set(this.allowed(o?.generic))}),e.selectTranslateObject("action.edit",{},"infrastructure/vendor").subscribe(o=>{o.label&&this.label.set(o.label),o.tooltip&&this.tooltip.set(o.tooltip),o.icon&&this.icon.set(o.icon),o.title&&this.title.set(o.title)})}name="edit";contextual=!0;multiple=!1;container=n(void 0);selection=n([]);render=I("formTemplate");title=n("Editando el item");label=n("Editar");icon=n("edit_note");tooltip=n("Edita el elemento seleccionado");default=p(!1);visibleValue=n(!1);enabledValue=n(!0);fixed=p();hidden=p();fixedProperties=E(()=>Object.keys(this.fixed()||{}));hiddenProperties=E(()=>Object.keys(this.hidden()||{}));definedProperties=E(()=>z(z({},this.hidden()||{}),this.fixed()||{}));form=new x(void 0);acl;visible(t){return this.visibleValue}enabled(t){return this.enabledValue}run(){this.form.patchValue(this.selection()[0])}save(){let t=this.form.value;if(!t)throw Error("Unable to save without value");this.repository.update(t).subscribe(()=>this.container()?.close())}allowed(t){return!!t?.allows?.find(e=>e.name=="create")?.allowed}static \u0275fac=function(e){return new(e||i)(c(j),c(G))};static \u0275cmp=y({type:i,selectors:[["vendor-view-edit-action"]],viewQuery:function(e,o){e&1&&F(o.render,Ri,5),e&2&&P()},inputs:{default:[1,"default"],fixed:[1,"fixed"],hidden:[1,"hidden"]},standalone:!1,decls:2,vars:0,consts:[["formTemplate",""],["createForm",""],[1,"main",3,"formControl","fixed","hidden","defined"],[1,"buttons"],["mat-raised-button","",3,"click","disabled"]],template:function(e,o){e&1&&h(0,Ii,6,8,"ng-template",null,0,R)},dependencies:[H,O,Z,Re,K],styles:[".main[_ngcontent-%COMP%]{flex:1;display:flex;flex-direction:column;overflow:auto}.buttons[_ngcontent-%COMP%]{padding:20px 10px}"]})};function ri(i){let t=[];if(i.name&&t.push(te.equal("name",i.name)),i.vendor&&t.push(te.equal("vendor",i.vendor)),i.vendors){let e=Array.isArray(i.vendors);if(e&&i.vendors?.length>1){let o=[];i.vendors.forEach(d=>o.push(te.equal("vendor",d))),t.push(te.or(o))}else e?t.push(te.equal("vendor",i.vendors[0])):typeof i.vendors=="string"&&t.push(te.equal("vendor",i.vendors))}if(i.type&&t.push(te.equal("type",i.type)),i.types){let e=Array.isArray(i.types);if(e&&i.types?.length>1){let o=[];i.types.forEach(d=>o.push(te.equal("type",d))),t.push(te.or(o))}else e?t.push(te.equal("type",i.types[0])):typeof i.types=="string"&&t.push(te.equal("type",i.types))}return J(t)}function ai(){return J({allows:[{name:"create",allowed:!0},{name:"update",allowed:!0},{name:"delete",allowed:!0},{name:"list",allowed:!0},{name:"retrieve",allowed:!0}],fields:{noEditables:[]}})}function li(i){let t=z({},i);return t.vendor={$ref:i.vendor,$id:i.vendor?.$id},t.type={$ref:i.type,$id:i.type?.$id},t}function di(i){let t=z({},i);return t.vendor=i?.vendor?.$ref,t.type=i?.type?.$ref,J(t)}var W=class i{repo;static metadata(t){return{key:"uid",name:"model",provider:t.provider("uid","netconfighub_documents","netconfighub_model","netconfighub_attacheds",ai,ri,li,di),reference:e=>e=="vendor"?new Be(j.metadata(t)):e=="type"?new Be(Oe.metadata(t)):null}}constructor(t){this.repo=new Be(i.metadata(t))}acl(){return this.repo.acl()}checkAcl(t){return this.repo.checkAcl(t||null)}generateComb(){return this.repo.generateComb()}add(t){return t.uid=this.generateComb(),this.repo.add(t)}update(t){return this.repo.update(t)}deleteByKey(t){return this.repo.deleteByKey(t)}canDeleteSelection(){return this.repo.canDeleteSelection()}deleteSelection(t){return this.repo.deleteSelection(this.publicQueryFilter(t))}retrieve(t){return this.repo.retrieve(t)}projection(t){return this.repo.projection(t)}list(t){return this.repo.list(this.publicQueryFilter(t))}values(t){return this.repo.values(this.publicQueryFilter(t))}projections(t){return this.repo.projections(t)}displayProvider(){return{display:t=>t.name}}selectorProvider(t){return He({search:e=>{let o=t?t():{limit:10};return o.search=e,this.values(o)},display:e=>e.name,value:e=>({$ref:e.uid,$id:e.$id}),select:e=>e.$ref?this.retrieve(e.$ref):J(void 0),equals:(e,o)=>e.$ref===o.$ref})}publicQueryFilter(t){let e={};return t.search&&(e.search=t.search),t.uids&&(e.uids=t.uids.join(",")),t.limit&&(e.limit=t.limit),t.order&&(e.order=t.order),t.name&&(e.name=t.name),t.vendor&&(e.vendor=t.vendor),t.vendors&&(e.vendors=t.vendors),t.type&&(e.type=t.type),t.types&&(e.types=t.types),e}static \u0275fac=function(e){return new(e||i)($e(Ue))};static \u0275prov=Le({token:i,factory:i.\u0275fac,providedIn:"root"})};var Bi=()=>["","NAME-ASC","NAME-DESC"];function Oi(i,t){i&1&&v(0,"editable-text",1)}function Li(i,t){if(i&1&&v(0,"editable-selectone",2),i&2){let e=u();a("provider",e.typesProvider)}}function $i(i,t){if(i&1&&v(0,"editable-selectone",3),i&2){let e=u();a("provider",e.vendorProvider)}}function Qi(i,t){i&1&&v(0,"editable-text",4)}function Gi(i,t){if(i&1&&v(0,"editable-selectone",5),i&2){let e=u();a("provider",e.typeProvider)}}function qi(i,t){if(i&1&&v(0,"editable-selectone",6),i&2){let e=u();a("provider",e.vendorsProvider)}}function zi(i,t){i&1&&v(0,"editable-choose",7),i&2&&a("options",qe(1,Bi))}var gt=class i extends Me{acl;uid=E(()=>this.value()?.uid);typesProvider;typesFilter=p({limit:100});vendorProvider;vendorFilter=p({limit:100});typeProvider;typeFilter=p({limit:100});vendorsProvider;vendorsFilter=p({limit:100});constructor(t,e,o){super(new ue({search:new x(""),types:new x(null),vendor:new x(null),name:new x(""),type:new x(null),vendors:new x(null),order:new x("")})),this.acl=t.acl(),B(()=>{this.acl.fetch(this.uid()||null)}),B(()=>{let d=this.acl(),l=this.value(),ae=this.uid()?d?.specific:d?.generic;setTimeout(()=>{this.definedFixed.set(ae?.fields?.noEditables||[]),this.definedHidden.set(ae?.fields?.noVisibles||[])})}),this.typesProvider=e.selectorProvider(this.typesFilter),this.vendorProvider=o.selectorProvider(this.vendorFilter),this.typeProvider=e.selectorProvider(this.typeFilter),this.vendorsProvider=o.selectorProvider(this.vendorsFilter),this.defaultValues=()=>({search:"",types:null,vendor:null,name:"",type:null,vendors:null,order:""})}static \u0275fac=function(e){return new(e||i)(c(W),c(Oe),c(j))};static \u0275cmp=y({type:i,selectors:[["model-view-search"]],inputs:{typesFilter:[1,"typesFilter"],vendorFilter:[1,"vendorFilter"],typeFilter:[1,"typeFilter"],vendorsFilter:[1,"vendorsFilter"]},standalone:!1,features:[pe(ye.getValidableAccessorProvider(i)),ie],decls:8,vars:8,consts:[[3,"formGroup"],["formControlName","search","label","infrastructure.model.search.search"],["formControlName","types","label","infrastructure.model.search.types",3,"provider"],["formControlName","vendor","label","infrastructure.model.search.vendor",3,"provider"],["formControlName","name","label","infrastructure.model.search.name"],["formControlName","type","label","infrastructure.model.search.type",3,"provider"],["formControlName","vendors","label","infrastructure.model.search.vendors",3,"provider"],["formControlName","order","label","infrastructure.model.search.order",3,"options"]],template:function(e,o){e&1&&(s(0,"form-layout",0),S(1,Oi,1,0,"editable-text",1),S(2,Li,1,1,"editable-selectone",2),S(3,$i,1,1,"editable-selectone",3),S(4,Qi,1,0,"editable-text",4),S(5,Gi,1,1,"editable-selectone",5),S(6,qi,1,1,"editable-selectone",6),S(7,zi,1,2,"editable-choose",7),m()),e&2&&(a("formGroup",o.form),r(),N(o.isVisible.search?1:-1),r(),N(o.isVisible.types?2:-1),r(),N(o.isVisible.vendor?3:-1),r(),N(o.isVisible.name?4:-1),r(),N(o.isVisible.type?5:-1),r(),N(o.isVisible.vendors?6:-1),r(),N(o.isVisible.order?7:-1))},dependencies:[Ce,Pe,ee,we,O,fe,ve,ge],encapsulation:2})};function Hi(i,t){i&1&&v(0,"editable-text",1)}function Ui(i,t){if(i&1&&v(0,"editable-selectone",2),i&2){let e=u();a("provider",e.vendorProvider)}}function Wi(i,t){if(i&1&&v(0,"editable-selectone",3),i&2){let e=u();a("provider",e.typeProvider)}}var ke=class i extends Me{acl;uid=E(()=>this.value()?.uid);vendorProvider;vendorFilter=p({limit:100});typeProvider;typeFilter=p({limit:100});constructor(t,e,o){super(new ue({uid:new x(""),name:new x("",[Ee.required]),vendor:new x(null,[Ee.required]),type:new x(null,[Ee.required]),version:new x(0)})),this.acl=t.acl(),B(()=>{this.acl.fetch(this.uid()||null)}),B(()=>{let d=this.acl(),l=this.value(),ae=this.uid()?d?.specific:d?.generic;setTimeout(()=>{this.definedFixed.set(ae?.fields?.noEditables||[]),this.definedHidden.set(ae?.fields?.noVisibles||[])})}),this.vendorProvider=e.selectorProvider(this.vendorFilter),this.typeProvider=o.selectorProvider(this.typeFilter),this.defaultValues=()=>({uid:"",name:"",vendor:null,type:null,version:0})}static \u0275fac=function(e){return new(e||i)(c(W),c(j),c(Oe))};static \u0275cmp=y({type:i,selectors:[["model-view-form-group"]],inputs:{vendorFilter:[1,"vendorFilter"],typeFilter:[1,"typeFilter"]},standalone:!1,features:[pe(ye.getValidableAccessorProvider(i)),ie],decls:4,vars:4,consts:[[3,"formGroup"],["formControlName","name","label","infrastructure.model.form-group.name"],["formControlName","vendor","label","infrastructure.model.form-group.vendor",3,"provider"],["formControlName","type","label","infrastructure.model.form-group.type",3,"provider"]],template:function(e,o){e&1&&(s(0,"form-layout",0),S(1,Hi,1,0,"editable-text",1),S(2,Ui,1,1,"editable-selectone",2),S(3,Wi,1,1,"editable-selectone",3),m()),e&2&&(a("formGroup",o.form),r(),N(o.isVisible.name?1:-1),r(),N(o.isVisible.vendor?2:-1),r(),N(o.isVisible.type?3:-1))},dependencies:[Pe,ee,we,O,fe,ve,ge],encapsulation:2})};var Ji=["formTemplate"];function Xi(i,t){if(i&1){let e=X();v(0,"model-view-form-group",2,1),s(2,"div",3)(3,"button",4),U("click",function(){$(e);let d=u();return Q(d.save())}),f(4),C(5,"transloco"),m()()}if(i&2){let e=A(1),o=u();a("formControl",o.form)("fixed",o.fixedProperties())("hidden",o.hiddenProperties())("defined",o.definedProperties()),r(3),a("disabled",e.form.invalid||!e.form.dirty),r(),T(" ",w(5,6,"infrastructure.model.action.create.createButton")," ")}}var bt=class i{constructor(t,e){this.repository=t;this.acl=t.acl(),this.acl.fetch(null).subscribe(o=>{this.visibleValue.set(this.allowed(o?.generic))}),e.selectTranslateObject("action.create",{},"infrastructure/model").subscribe(o=>{o.label&&this.label.set(o.label),o.tooltip&&this.tooltip.set(o.tooltip),o.icon&&this.icon.set(o.icon),o.title&&this.title.set(o.title)})}name="create";contextual=!1;multiple=!1;container=n(void 0);selection=n([]);render=I("formTemplate");title=n("Creando nuevo model");label=n("Crear");icon=n("add");tooltip=n("Crea un nuevo item");default=p(!1);visibleValue=n(!1);enabledValue=n(!0);fixed=p();hidden=p();fixedProperties=E(()=>Object.keys(this.fixed()||{}));hiddenProperties=E(()=>Object.keys(this.hidden()||{}));definedProperties=E(()=>z(z({},this.hidden()||{}),this.fixed()||{}));form=new x(void 0);acl;visible(t){return this.visibleValue}enabled(t){return this.enabledValue}run(){this.form.patchValue({})}save(){let t=this.form.value;if(!t)throw Error("Unable to save without value");this.repository.add(t).subscribe(()=>this.container()?.close())}allowed(t){return!!t?.allows?.find(e=>e.name=="create")?.allowed}static \u0275fac=function(e){return new(e||i)(c(W),c(G))};static \u0275cmp=y({type:i,selectors:[["model-view-create-action"]],viewQuery:function(e,o){e&1&&F(o.render,Ji,5),e&2&&P()},inputs:{default:[1,"default"],fixed:[1,"fixed"],hidden:[1,"hidden"]},standalone:!1,decls:2,vars:0,consts:[["formTemplate",""],["updateForm",""],[1,"main",3,"formControl","fixed","hidden","defined"],[1,"buttons"],["mat-raised-button","",3,"click","disabled"]],template:function(e,o){e&1&&h(0,Xi,6,8,"ng-template",null,0,R)},dependencies:[H,ke,O,Z,K],styles:[".main[_ngcontent-%COMP%]{flex:1;display:flex;flex-direction:column;overflow:auto}.buttons[_ngcontent-%COMP%]{padding:20px 10px}"]})};var Zi=["dialogTemplate"];function eo(i,t){i&1&&(s(0,"h2",1),f(1),C(2,"transloco"),m(),s(3,"mat-dialog-content")(4,"p"),f(5),C(6,"transloco"),m()(),s(7,"mat-dialog-actions")(8,"button",2),f(9),C(10,"transloco"),m(),s(11,"button",3),f(12),C(13,"transloco"),m()()),i&2&&(r(),Y(w(2,6,"infrastructure.model.action.delete.title")),r(4),Y(w(6,8,"infrastructure.model.action.delete.content")),r(3),a("mat-dialog-close",!1),r(),T(" ",w(10,10,"infrastructure.model.action.delete.cancelBtn")," "),r(2),a("mat-dialog-close",!0),r(),T(" ",w(13,12,"infrastructure.model.action.delete.okBtn")," "))}var yt=class i{constructor(t,e,o,d){this.repository=t;this.dialog=e;this.snakeBar=o;this.acl=t.acl(),this.acl.fetch(null).subscribe(l=>{this.visibleValue.set(this.allowed(l?.generic))}),d.selectTranslateObject("action.delete",{},"infrastructure/model").subscribe(l=>{l.label&&this.label.set(l.label),l.tooltip&&this.tooltip.set(l.tooltip),l.icon&&this.icon.set(l.icon),l.title&&this.title.set(l.title),l.dismiss&&(this.dismiss=l.dismiss),l.report&&(this.report=l.report)})}name="delete";contextual=!0;multiple=!1;container=n(void 0);selection=n([]);render=n(void 0);dialogTemplate=I("dialogTemplate");title=n("Borrando el item");label=n("Delete");icon=n("delete");tooltip=n("Borra el elemento seleccionado");default=p(!1);visibleValue=n(!1);enabledValue=n(!0);acl;dialgoRef;dialogSubs;dismiss="Close";report="Deleted...";visible(t){return this.visibleValue}enabled(t){return this.enabledValue}run(){let t=this.dialogTemplate();t&&(this.dialgoRef?.close(),this.dialgoRef=this.dialog.open(t),this.dialogSubs=this.dialgoRef.afterClosed().subscribe(e=>{e?this.delete(this.selection()[0]):this.container()?.close()}))}ngOnDestroy(){this.dialgoRef?.close(),this.dialogSubs?.unsubscribe()}delete(t){this.repository.deleteByKey(t.uid).subscribe(()=>{this.container()?.close(),this.snakeBar.open(this.report,this.dismiss,{duration:5e3})})}allowed(t){return!!t?.allows?.find(e=>e.name=="delete")?.allowed}static \u0275fac=function(e){return new(e||i)(c(W),c(xe),c(Ae),c(G))};static \u0275cmp=y({type:i,selectors:[["model-view-delete-action"]],viewQuery:function(e,o){e&1&&F(o.dialogTemplate,Zi,5),e&2&&P()},inputs:{default:[1,"default"]},standalone:!1,decls:2,vars:0,consts:[["dialogTemplate",""],["mat-dialog-title",""],["mat-button","",3,"mat-dialog-close"],["mat-button","","cdkFocusInitial","",3,"mat-dialog-close"]],template:function(e,o){e&1&&h(0,eo,14,14,"ng-template",null,0,R)},dependencies:[H,_e,De,Se,Te,K],styles:[".main[_ngcontent-%COMP%]{flex:1;display:flex;flex-direction:column;overflow:hidden}"]})};var io=["dialogTemplate"];function oo(i,t){i&1&&(s(0,"h2",1),f(1),C(2,"transloco"),m(),s(3,"mat-dialog-content")(4,"p"),f(5),C(6,"transloco"),m()(),s(7,"mat-dialog-actions")(8,"button",2),f(9),C(10,"transloco"),m(),s(11,"button",3),f(12),C(13,"transloco"),m()()),i&2&&(r(),Y(w(2,6,"infrastructure.model.action.delete-selection.title")),r(4),Y(w(6,8,"infrastructure.model.action.delete-selection.content")),r(3),a("mat-dialog-close",!1),r(),T(" ",w(10,10,"infrastructure.model.action.delete-selection.cancelBtn")," "),r(2),a("mat-dialog-close",!0),r(),T(" ",w(13,12,"infrastructure.model.action.delete-selection.okBtn")," "))}var Mt=class i{constructor(t,e,o,d){this.repository=t;this.dialog=e;this.snakeBar=o;this.acl=t.acl(),this.acl.fetch(null).subscribe(l=>{this.visibleValue.set(this.allowed(l?.generic))}),d.selectTranslateObject("action.delete-selection",{},"infrastructure/model").subscribe(l=>{l.label&&this.label.set(l.label),l.tooltip&&this.tooltip.set(l.tooltip),l.icon&&this.icon.set(l.icon),l.title&&this.title.set(l.title),l.dismiss&&(this.dismiss=l.dismiss),l.report&&(this.report=l.report),l.progress&&(this.progress=l.progress)})}name="deleteSelection";contextual=!0;multiple=!0;container=n(void 0);selection=n([]);render=n(void 0);dialogTemplate=I("dialogTemplate");title=n("Borrando el item");label=n("Delete");icon=n("delete");tooltip=n("Borra el elemento seleccionado");default=p(!1);visibleValue=n(!1);enabledValue=n(!0);acl;dialgoRef;dialogSubs;dismiss="Close";report="Deleted...";progress="Deleted...";visible(t){return this.visibleValue}enabled(t){return this.enabledValue}run(){let t=this.dialogTemplate();t&&(this.dialgoRef?.close(),this.dialgoRef=this.dialog.open(t),this.dialogSubs=this.dialgoRef.afterClosed().subscribe(e=>{e?this.deleteSelection(this.selection()):this.container()?.close()}))}ngOnDestroy(){this.dialgoRef?.close(),this.dialogSubs?.unsubscribe()}deleteSelection(t){let e={uids:t.map(o=>o.uid)};this.dialgoRef=this.dialog.open(tt,{data:{title:this.progress,progress:this.repository.deleteSelection(e)}}),this.dialogSubs=this.dialgoRef.afterClosed().subscribe(o=>{this.container()?.selectionModel.clearSelection(),this.container()?.close(),this.snakeBar.open(this.report,this.dismiss,{duration:5e3})})}allowed(t){return this.repository.canDeleteSelection()&&!!t?.allows?.find(e=>e.name=="delete")?.allowed}static \u0275fac=function(e){return new(e||i)(c(W),c(xe),c(Ae),c(G))};static \u0275cmp=y({type:i,selectors:[["model-view-delete-selection-action"]],viewQuery:function(e,o){e&1&&F(o.dialogTemplate,io,5),e&2&&P()},inputs:{default:[1,"default"]},standalone:!1,decls:2,vars:0,consts:[["dialogTemplate",""],["mat-dialog-title",""],["mat-button","",3,"mat-dialog-close"],["mat-button","","cdkFocusInitial","",3,"mat-dialog-close"]],template:function(e,o){e&1&&h(0,oo,14,14,"ng-template",null,0,R)},dependencies:[H,_e,De,Se,Te,K],styles:[".main[_ngcontent-%COMP%]{flex:1;display:flex;flex-direction:column;overflow:hidden}"]})};var ht=class i{data=p.required();form=new x({value:void 0,disabled:!0});constructor(){B(()=>this.form.patchValue(this.data()))}static \u0275fac=function(e){return new(e||i)};static \u0275cmp=y({type:i,selectors:[["model-view-detail"]],inputs:{data:[1,"data"]},standalone:!1,decls:1,vars:1,consts:[[3,"formControl"]],template:function(e,o){e&1&&v(0,"model-view-form-group",0),e&2&&a("formControl",o.form)},dependencies:[ke,O,Z],encapsulation:2})};var ao=["formTemplate"];function lo(i,t){if(i&1&&v(0,"model-view-detail",1),i&2){let e=u();a("data",e.selection()[0])}}var Ct=class i{name="detail";contextual=!0;multiple=!1;container=n(void 0);selection=n([]);render=I("formTemplate");title=n("Detalle del item");label=n("Detalle");icon=n("preview");tooltip=n("Muestra el detalle del elemento seleccionado");default=p(!1);visibleValue=n(!1);enabledValue=n(!0);constructor(t){t.selectTranslateObject("action.detail",{},"infrastructure/model").subscribe(e=>{e.label&&this.label.set(e.label),e.tooltip&&this.tooltip.set(e.tooltip),e.icon&&this.icon.set(e.icon),e.title&&this.title.set(e.title)})}visible(t){return this.visibleValue}enabled(t){return this.enabledValue}run(){}allowed(t){return!!t?.allows?.find(e=>e.name=="retrieve")?.allowed}static \u0275fac=function(e){return new(e||i)(c(G))};static \u0275cmp=y({type:i,selectors:[["model-view-detail-action"]],viewQuery:function(e,o){e&1&&F(o.render,ao,5),e&2&&P()},inputs:{default:[1,"default"]},standalone:!1,decls:2,vars:0,consts:[["formTemplate",""],[1,"main",3,"data"]],template:function(e,o){e&1&&h(0,lo,1,1,"ng-template",null,0,R)},dependencies:[ht],styles:[".main[_ngcontent-%COMP%]{flex:1;display:flex;flex-direction:column;overflow:auto}"]})};var mo=["formTemplate"];function co(i,t){if(i&1){let e=X();v(0,"model-view-form-group",2,1),s(2,"div",3)(3,"button",4),U("click",function(){$(e);let d=u();return Q(d.save())}),f(4),C(5,"transloco"),m()()}if(i&2){let e=A(1),o=u();a("formControl",o.form)("fixed",o.fixedProperties())("hidden",o.hiddenProperties())("defined",o.definedProperties()),r(3),a("disabled",e.form.invalid||!e.form.dirty),r(),T(" ",w(5,6,"infrastructure.model.action.edit.saveBtn")," ")}}var wt=class i{constructor(t,e){this.repository=t;this.acl=t.acl(),this.acl.fetch(null).subscribe(o=>{this.visibleValue.set(this.allowed(o?.generic))}),e.selectTranslateObject("action.edit",{},"infrastructure/model").subscribe(o=>{o.label&&this.label.set(o.label),o.tooltip&&this.tooltip.set(o.tooltip),o.icon&&this.icon.set(o.icon),o.title&&this.title.set(o.title)})}name="edit";contextual=!0;multiple=!1;container=n(void 0);selection=n([]);render=I("formTemplate");title=n("Editando el item");label=n("Editar");icon=n("edit_note");tooltip=n("Edita el elemento seleccionado");default=p(!1);visibleValue=n(!1);enabledValue=n(!0);fixed=p();hidden=p();fixedProperties=E(()=>Object.keys(this.fixed()||{}));hiddenProperties=E(()=>Object.keys(this.hidden()||{}));definedProperties=E(()=>z(z({},this.hidden()||{}),this.fixed()||{}));form=new x(void 0);acl;visible(t){return this.visibleValue}enabled(t){return this.enabledValue}run(){this.form.patchValue(this.selection()[0])}save(){let t=this.form.value;if(!t)throw Error("Unable to save without value");this.repository.update(t).subscribe(()=>this.container()?.close())}allowed(t){return!!t?.allows?.find(e=>e.name=="create")?.allowed}static \u0275fac=function(e){return new(e||i)(c(W),c(G))};static \u0275cmp=y({type:i,selectors:[["model-view-edit-action"]],viewQuery:function(e,o){e&1&&F(o.render,mo,5),e&2&&P()},inputs:{default:[1,"default"],fixed:[1,"fixed"],hidden:[1,"hidden"]},standalone:!1,decls:2,vars:0,consts:[["formTemplate",""],["createForm",""],[1,"main",3,"formControl","fixed","hidden","defined"],[1,"buttons"],["mat-raised-button","",3,"click","disabled"]],template:function(e,o){e&1&&h(0,co,6,8,"ng-template",null,0,R)},dependencies:[H,ke,O,Z,K],styles:[".main[_ngcontent-%COMP%]{flex:1;display:flex;flex-direction:column;overflow:auto}.buttons[_ngcontent-%COMP%]{padding:20px 10px}"]})};var uo=["container"],vo=["*"];function go(i,t){i&1&&Ge(0)}var Vt=class i extends We{constructor(e){super();this.repository=e;this.acl=this.repository.acl(),this.activated=this.repository.projection([]),this.mapper={display:o=>o.uid,load:o=>(this.acl.fetch(o),this.activated.fetch(o),this.activated)},B(()=>{let o=this.actions()?.selectionModel.selected();(!o||o.length==0)&&(this.acl.reset(),this.activated.reset())})}actions=I("container");fixed=p();hidden=p();activated;acl;mapper;static \u0275fac=function(o){return new(o||i)(c(W))};static \u0275cmp=y({type:i,selectors:[["model-view-standar-actions"]],viewQuery:function(o,d){o&1&&F(d.actions,uo,5),o&2&&P()},inputs:{fixed:[1,"fixed"],hidden:[1,"hidden"]},standalone:!1,features:[ie],ngContentSelectors:vo,decls:14,vars:8,consts:[["container",""],["action",""],["masterTemplate",""],[3,"mapper","name"],[3,"fixed","hidden"],[3,"default","fixed","hidden"],[3,"default"]],template:function(o,d){o&1&&(Qe(),s(0,"action-container",3,0),v(2,"model-view-create-action",4,1)(4,"model-view-edit-action",5,1)(6,"model-view-detail-action",6,1)(8,"model-view-delete-action",null,1)(10,"model-view-delete-selection-action",null,1),h(12,go,1,0,"ng-template",null,2,R),m()),o&2&&(a("mapper",d.mapper)("name","model"),r(2),a("fixed",d.fixed())("hidden",d.hidden()),r(2),a("default",!0)("fixed",d.fixed())("hidden",d.hidden()),r(2),a("default",!0))},dependencies:[Ve,bt,yt,Mt,Ct,wt],styles:["[_nghost-%COMP%]{flex:1;display:flex;flex-direction:column;overflow:hidden}.main[_ngcontent-%COMP%]{flex:1;display:flex;flex-direction:column;overflow:hidden}.buttons[_ngcontent-%COMP%]{display:flex;padding:5px;flex-direction:row;align-items:center;align-self:flex-end}"]})};var si=(i,t)=>({row:i,key:t});function Vo(i,t){i&1&&se(0)}function xo(i,t){if(i&1&&(s(0,"div",5),h(1,Vo,1,0,"ng-container",12),m()),i&2){u();let e=A(1);r(),a("ngTemplateOutlet",e.theSelectionTemplate()||null)}}function _o(i,t){i&1&&se(0)}function Do(i,t){i&1&&(s(0,"mat-icon"),f(1,"keyboard_arrow_up"),m())}function To(i,t){i&1&&(s(0,"mat-icon"),f(1,"filter_list"),m())}function So(i,t){if(i&1){let e=X();s(0,"div",5),h(1,_o,1,0,"ng-container",12),v(2,"div",13),s(3,"button",14),U("click",function(){$(e),u();let d=A(6);return Q(d.toggle())}),S(4,Do,2,0,"mat-icon")(5,To,2,0,"mat-icon"),f(6),C(7,"transloco"),m(),s(8,"button",15),U("click",function(){$(e);let d=u();return Q(d.reload())}),s(9,"mat-icon"),f(10,"refresh"),m()()()}if(i&2){u();let e=A(1),o=A(6);r(),a("ngTemplateOutlet",e.theToolbarTemplate()||null),r(3),N(o.expanded?4:5),r(2),T(" ",w(7,3,"infrastructure.model.list.filter.button")," ")}}function No(i,t){i&1&&(s(0,"div",10)(1,"h1"),f(2,"No content"),m()())}function Ao(i,t){if(i&1&&f(0),i&2){let e=t.$implicit;T(" ",e.name," ")}}function Fo(i,t){i&1&&se(0)}function Po(i,t){if(i&1&&h(0,Fo,1,0,"ng-container",21),i&2){let e=t.$implicit;u(2);let o=A(1);a("ngTemplateOutlet",o.theContextTemplate()||null)("ngTemplateOutletContext",je(2,si,e,e.uid))}}function Ro(i,t){if(i&1&&f(0),i&2){let e=t.$implicit;T(" ",e.name," ")}}function Io(i,t){if(i&1&&f(0),i&2){let e,o=t.$implicit;T(" ",(e=o.vendor())==null?null:e.name," ")}}function ko(i,t){if(i&1&&f(0),i&2){let e,o=t.$implicit;T(" ",(e=o.type())==null?null:e.name," ")}}function jo(i,t){i&1&&se(0)}function Eo(i,t){if(i&1&&h(0,jo,1,0,"ng-container",21),i&2){let e=t.$implicit;u(2);let o=A(1);a("ngTemplateOutlet",o.theContextTemplate()||null)("ngTemplateOutletContext",je(2,si,e,e.uid))}}function Bo(i,t){if(i&1){let e=X();s(0,"list-view",16),U("next",function(){$(e);let d=u();return Q(d.next())})("prev",function(){$(e);let d=u();return Q(d.prev())})("activate",function(d){$(e),u();let l=A(1);return Q(l.defaultAction([d]))}),s(1,"list-view-row"),h(2,Ao,1,1,"ng-template",17)(3,Po,1,5,"ng-template",18),m(),s(4,"list-view-table"),h(5,Ro,1,1,"ng-template",19),C(6,"transloco"),C(7,"transloco"),h(8,Io,1,1,"ng-template",19),C(9,"transloco"),C(10,"transloco"),h(11,ko,1,1,"ng-template",19),C(12,"transloco"),C(13,"transloco"),h(14,Eo,1,5,"ng-template",20),m()()}if(i&2){let e=u(),o=A(1);a("mode","list")("display",e.displayer)("searching",e.list.searching())("data",e.list())("selectionMultiple",!!o.hasMultiple())("selectionModel",o.selectionModel),r(5),a("title",me(w(6,18,"infrastructure.model.list.column.name.title")))("tooltip",me(w(7,20,"infrastructure.model.list.column.name.tooltip"))),r(3),a("title",me(w(9,22,"infrastructure.model.list.column.vendor.title")))("tooltip",me(w(10,24,"infrastructure.model.list.column.vendor.tooltip"))),r(3),a("title",me(w(12,26,"infrastructure.model.list.column.type.title")))("tooltip",me(w(13,28,"infrastructure.model.list.column.type.tooltip")))}}var xt=class i{filters=p();actionName=p("model");fixed=p();hidden=p();search=new x(void 0);list;displayer;constructor(t){this.displayer=t.displayProvider(),this.list=t.projections(["vendor","type"]),B(()=>{setTimeout(()=>this.makeSearch())})}makeSearch(){let t={limit:10},e=this.search.value,o=this.filters();o?.search&&(t.search=o.search),o?.name&&(t.name=o.name),o?.vendor&&(t.vendor=o.vendor),o?.vendors&&(t.vendors=o.vendors),o?.type&&(t.type=o.type),o?.types&&(t.types=o.types),e?.search&&(t.search=e.search),e?.name&&(t.name=e.name),e?.vendor?.$ref&&(t.vendor=e.vendor.$ref),e?.vendors?.$ref&&(t.vendors=e.vendors.$ref),e?.type?.$ref&&(t.type=e.type.$ref),e?.types?.$ref&&(t.types=e.types.$ref),e?.order&&(t.order=e.order),this.list.fetch(t)}next(){this.list.next()}reload(){this.list.reset()}prev(){console.log("PREV")}static \u0275fac=function(e){return new(e||i)(c(W))};static \u0275cmp=y({type:i,selectors:[["model-view-list"]],inputs:{filters:[1,"filters"],actionName:[1,"actionName"],fixed:[1,"fixed"],hidden:[1,"hidden"]},standalone:!1,decls:18,vars:13,consts:[["actions",""],["panel",""],["searchForm",""],[3,"hidden","fixed"],[1,"table-toolbar"],[2,"display","flex","flex-direction","row","padding","10px 10px 0 10px","align-items","center"],[2,"margin","10px"],[3,"formControl"],["mat-raised-button","",3,"click","disabled"],[1,"main"],[1,"page"],[3,"mode","display","searching","data","selectionMultiple","selectionModel"],[4,"ngTemplateOutlet"],[2,"flex","1"],["mat-raised-button","",3,"click"],["mat-icon-button","",3,"click"],[3,"next","prev","activate","mode","display","searching","data","selectionMultiple","selectionModel"],["listViewRowTitle",""],["listViewRowAction",""],["listViewColumn","",3,"title","tooltip"],["listViewColumn",""],[4,"ngTemplateOutlet","ngTemplateOutletContext"]],template:function(e,o){if(e&1){let d=X();s(0,"model-view-standar-actions",3,0)(2,"div",4),S(3,xo,2,1,"div",5),S(4,So,11,5,"div",5),s(5,"mat-expansion-panel",6,1)(7,"h2"),f(8),C(9,"transloco"),m(),v(10,"model-view-search",7,2),s(12,"button",8),U("click",function(){return $(d),Q(o.makeSearch())}),f(13),C(14,"transloco"),m()()(),s(15,"div",9),S(16,No,3,0,"div",10)(17,Bo,15,30,"list-view",11),m()()}if(e&2){let d,l=A(1),ae=A(11);a("hidden",o.hidden())("fixed",o.fixed()),r(3),N(l.hasMultiple()&&l.hasSelection()?3:-1),r(),N(!l.hasMultiple()||!l.hasSelection()?4:-1),r(4),Y(w(9,9,"infrastructure.model.list.search.title")),r(2),a("formControl",o.search),r(2),a("disabled",ae.form.invalid||!ae.form.dirty),r(),T(" ",w(14,11,"infrastructure.model.list.search.button")," "),r(3),N(!o.list.searching()&&((d=o.list())==null?null:d.length)==0?16:17)}},dependencies:[Ke,lt,it,ot,nt,rt,at,H,Ye,Ze,Je,gt,Vt,O,Z,K],styles:["[_nghost-%COMP%]{flex:1;display:flex;flex-direction:column;overflow:hidden}.main[_ngcontent-%COMP%]{flex:1;display:flex;flex-direction:column;overflow:hidden}.page[_ngcontent-%COMP%]{padding:10px 50px}.page[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-size:var(--mat-sys-title-large-size);font-family:var(--mat-sys-title-large-font)}"]})};var Lo=["formTemplate"],$o=i=>({vendors:i}),Qo=i=>({$ref:i}),Go=i=>({vendor:i});function qo(i,t){if(i&1&&(v(0,"model-view-list",1),f(1," \xA0 ")),i&2){let e,o,d=u(2);a("filters",ze(2,$o,(e=d.selection()[0])==null?null:e.uid))("fixed",ze(6,Go,ze(4,Qo,(o=d.selection()[0])==null?null:o.uid)))}}function zo(i,t){if(i&1&&S(0,qo,2,8),i&2){let e=u();N(e.selection().length?0:-1)}}var _t=class i{constructor(t,e){this.repository=t;e.selectTranslateObject("action.models",{},"infrastructure/vendor").subscribe(o=>{o.label&&this.label.set(o.label),o.tooltip&&this.tooltip.set(o.tooltip),o.icon&&this.icon.set(o.icon),o.title&&this.title.set(o.title)})}name="models";contextual=!0;multiple=!1;container=n(void 0);selection=n([]);render=I("formTemplate");title=n("models");label=n("models");icon=n("gavel");tooltip=n("models");default=p(!1);visibleValue=n(!0);enabledValue=n(!0);visible(t){return this.visibleValue}enabled(t){return this.enabledValue}run(){}static \u0275fac=function(e){return new(e||i)(c(j),c(G))};static \u0275cmp=y({type:i,selectors:[["vendor-view-models"]],viewQuery:function(e,o){e&1&&F(o.render,Lo,5),e&2&&P()},inputs:{default:[1,"default"]},standalone:!1,decls:2,vars:0,consts:[["formTemplate",""],[1,"main",3,"filters","fixed"]],template:function(e,o){e&1&&h(0,zo,1,1,"ng-template",null,0,R)},dependencies:[xt],styles:[".main[_ngcontent-%COMP%]{flex:1;display:flex;flex-direction:column;overflow:hidden}"]})};var Ho=["container"],Uo=["*"];function Wo(i,t){i&1&&Ge(0)}var Dt=class i extends We{constructor(e){super();this.repository=e;this.acl=this.repository.acl(),this.activated=this.repository.projection([]),this.mapper={display:o=>o.uid,load:o=>(this.acl.fetch(o),this.activated.fetch(o),this.activated)},B(()=>{let o=this.actions()?.selectionModel.selected();(!o||o.length==0)&&(this.acl.reset(),this.activated.reset())})}actions=I("container");fixed=p();hidden=p();activated;acl;mapper;static \u0275fac=function(o){return new(o||i)(c(j))};static \u0275cmp=y({type:i,selectors:[["vendor-view-standar-actions"]],viewQuery:function(o,d){o&1&&F(d.actions,Ho,5),o&2&&P()},inputs:{fixed:[1,"fixed"],hidden:[1,"hidden"]},standalone:!1,features:[ie],ngContentSelectors:Uo,decls:16,vars:7,consts:[["container",""],["action",""],["masterTemplate",""],[3,"mapper","name"],[3,"fixed","hidden"],[3,"default"]],template:function(o,d){o&1&&(Qe(),s(0,"action-container",3,0),v(2,"vendor-view-create-action",4,1)(4,"vendor-view-edit-action",4,1)(6,"vendor-view-detail-action",null,1)(8,"vendor-view-delete-action",null,1)(10,"vendor-view-delete-selection-action",null,1)(12,"vendor-view-models",5,1),h(14,Wo,1,0,"ng-template",null,2,R),m()),o&2&&(a("mapper",d.mapper)("name","vendor"),r(2),a("fixed",d.fixed())("hidden",d.hidden()),r(2),a("fixed",d.fixed())("hidden",d.hidden()),r(8),a("default",!0))},dependencies:[Ve,mt,ct,pt,ut,vt,_t],styles:["[_nghost-%COMP%]{flex:1;display:flex;flex-direction:column;overflow:hidden}.main[_ngcontent-%COMP%]{flex:1;display:flex;flex-direction:column;overflow:hidden}.buttons[_ngcontent-%COMP%]{display:flex;padding:5px;flex-direction:row;align-items:center;align-self:flex-end}"]})};var mi=(i,t)=>({row:i,key:t});function Xo(i,t){i&1&&se(0)}function Yo(i,t){if(i&1&&(s(0,"div",5),h(1,Xo,1,0,"ng-container",12),m()),i&2){u();let e=A(1);r(),a("ngTemplateOutlet",e.theSelectionTemplate()||null)}}function Zo(i,t){i&1&&se(0)}function en(i,t){i&1&&(s(0,"mat-icon"),f(1,"keyboard_arrow_up"),m())}function tn(i,t){i&1&&(s(0,"mat-icon"),f(1,"filter_list"),m())}function on(i,t){if(i&1){let e=X();s(0,"div",5),h(1,Zo,1,0,"ng-container",12),v(2,"div",13),s(3,"button",14),U("click",function(){$(e),u();let d=A(6);return Q(d.toggle())}),S(4,en,2,0,"mat-icon")(5,tn,2,0,"mat-icon"),f(6),C(7,"transloco"),m(),s(8,"button",15),U("click",function(){$(e);let d=u();return Q(d.reload())}),s(9,"mat-icon"),f(10,"refresh"),m()()()}if(i&2){u();let e=A(1),o=A(6);r(),a("ngTemplateOutlet",e.theToolbarTemplate()||null),r(3),N(o.expanded?4:5),r(2),T(" ",w(7,3,"infrastructure.vendor.list.filter.button")," ")}}function nn(i,t){i&1&&(s(0,"div",10)(1,"h1"),f(2,"No content"),m()())}function rn(i,t){if(i&1&&f(0),i&2){let e=t.$implicit;T(" ",e.name," ")}}function an(i,t){i&1&&se(0)}function ln(i,t){if(i&1&&h(0,an,1,0,"ng-container",21),i&2){let e=t.$implicit;u(2);let o=A(1);a("ngTemplateOutlet",o.theContextTemplate()||null)("ngTemplateOutletContext",je(2,mi,e,e.uid))}}function dn(i,t){if(i&1&&f(0),i&2){let e=t.$implicit;T(" ",e.name," ")}}function sn(i,t){i&1&&se(0)}function mn(i,t){if(i&1&&h(0,sn,1,0,"ng-container",21),i&2){let e=t.$implicit;u(2);let o=A(1);a("ngTemplateOutlet",o.theContextTemplate()||null)("ngTemplateOutletContext",je(2,mi,e,e.uid))}}function cn(i,t){if(i&1){let e=X();s(0,"list-view",16),U("next",function(){$(e);let d=u();return Q(d.next())})("prev",function(){$(e);let d=u();return Q(d.prev())})("activate",function(d){$(e),u();let l=A(1);return Q(l.defaultAction([d]))}),s(1,"list-view-row"),h(2,rn,1,1,"ng-template",17)(3,ln,1,5,"ng-template",18),m(),s(4,"list-view-table"),h(5,dn,1,1,"ng-template",19),C(6,"transloco"),C(7,"transloco"),h(8,mn,1,5,"ng-template",20),m()()}if(i&2){let e=u(),o=A(1);a("mode","card")("display",e.displayer)("searching",e.list.searching())("data",e.list())("selectionMultiple",!!o.hasMultiple())("selectionModel",o.selectionModel),r(5),a("title",me(w(6,10,"infrastructure.vendor.list.column.name.title")))("tooltip",me(w(7,12,"infrastructure.vendor.list.column.name.tooltip")))}}var Tt=class i{filters=p();actionName=p("vendor");fixed=p();hidden=p();search=new x(void 0);list;displayer;constructor(t){this.displayer=t.displayProvider(),this.list=t.projections([]),B(()=>{setTimeout(()=>this.makeSearch())})}makeSearch(){let t={limit:10},e=this.search.value,o=this.filters();o?.search&&(t.search=o.search),o?.name&&(t.name=o.name),e?.search&&(t.search=e.search),e?.name&&(t.name=e.name),e?.order&&(t.order=e.order),this.list.fetch(t)}next(){this.list.next()}reload(){this.list.reset()}prev(){console.log("PREV")}static \u0275fac=function(e){return new(e||i)(c(j))};static \u0275cmp=y({type:i,selectors:[["vendor-view-list"]],inputs:{filters:[1,"filters"],actionName:[1,"actionName"],fixed:[1,"fixed"],hidden:[1,"hidden"]},standalone:!1,decls:18,vars:13,consts:[["actions",""],["panel",""],["searchForm",""],[3,"hidden","fixed"],[1,"table-toolbar"],[2,"display","flex","flex-direction","row","padding","10px 10px 0 10px","align-items","center"],[2,"margin","10px"],[3,"formControl"],["mat-raised-button","",3,"click","disabled"],[1,"main"],[1,"page"],[3,"mode","display","searching","data","selectionMultiple","selectionModel"],[4,"ngTemplateOutlet"],[2,"flex","1"],["mat-raised-button","",3,"click"],["mat-icon-button","",3,"click"],[3,"next","prev","activate","mode","display","searching","data","selectionMultiple","selectionModel"],["listViewRowTitle",""],["listViewRowAction",""],["listViewColumn","",3,"title","tooltip"],["listViewColumn",""],[4,"ngTemplateOutlet","ngTemplateOutletContext"]],template:function(e,o){if(e&1){let d=X();s(0,"vendor-view-standar-actions",3,0)(2,"div",4),S(3,Yo,2,1,"div",5),S(4,on,11,5,"div",5),s(5,"mat-expansion-panel",6,1)(7,"h2"),f(8),C(9,"transloco"),m(),v(10,"vendor-view-search",7,2),s(12,"button",8),U("click",function(){return $(d),Q(o.makeSearch())}),f(13),C(14,"transloco"),m()()(),s(15,"div",9),S(16,nn,3,0,"div",10)(17,cn,9,14,"list-view",11),m()()}if(e&2){let d,l=A(1),ae=A(11);a("hidden",o.hidden())("fixed",o.fixed()),r(3),N(l.hasMultiple()&&l.hasSelection()?3:-1),r(),N(!l.hasMultiple()||!l.hasSelection()?4:-1),r(4),Y(w(9,9,"infrastructure.vendor.list.search.title")),r(2),a("formControl",o.search),r(2),a("disabled",ae.form.invalid||!ae.form.dirty),r(),T(" ",w(14,11,"infrastructure.vendor.list.search.button")," "),r(3),N(!o.list.searching()&&((d=o.list())==null?null:d.length)==0?16:17)}},dependencies:[Ke,lt,it,ot,nt,rt,at,H,Ye,Ze,Je,O,Z,st,Dt,K],styles:["[_nghost-%COMP%]{flex:1;display:flex;flex-direction:column;overflow:hidden}.main[_ngcontent-%COMP%]{flex:1;display:flex;flex-direction:column;overflow:hidden}.page[_ngcontent-%COMP%]{padding:10px 50px}.page[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-size:var(--mat-sys-title-large-size);font-family:var(--mat-sys-title-large-font)}"]})};var St=class i{static \u0275fac=function(e){return new(e||i)};static \u0275cmp=y({type:i,selectors:[["vendor-view-list-page"]],standalone:!1,decls:1,vars:0,template:function(e,o){e&1&&v(0,"vendor-view-list")},dependencies:[Tt],styles:["[_nghost-%COMP%]{flex:1;display:flex;flex-direction:column;overflow:hidden;border-radius:var(--mat-sys-corner-medium);box-shadow:var(--mat-sys-level3);margin:15px}"]})};var ne=class i{static \u0275fac=function(e){return new(e||i)};static \u0275mod=M({type:i});static \u0275inj=b({providers:[V({scope:"infrastructure/vendor",alias:"infrastructure.vendor"})],imports:[D,ee,be,he,_]})};var Nt=class i{static \u0275fac=function(e){return new(e||i)};static \u0275mod=M({type:i});static \u0275inj=b({providers:[V({scope:"infrastructure/vendor",alias:"infrastructure.vendor"})],imports:[D,L,_,k,ne]})};var At=class i{static \u0275fac=function(e){return new(e||i)};static \u0275mod=M({type:i});static \u0275inj=b({providers:[V({scope:"infrastructure/vendor",alias:"infrastructure.vendor"})],imports:[D,L,_,k,ne]})};var Ft=class i{static \u0275fac=function(e){return new(e||i)};static \u0275mod=M({type:i});static \u0275inj=b({providers:[V({scope:"infrastructure/vendor",alias:"infrastructure.vendor"})],imports:[_,ne]})};var Pt=class i{static \u0275fac=function(e){return new(e||i)};static \u0275mod=M({type:i});static \u0275inj=b({providers:[V({scope:"infrastructure/vendor",alias:"infrastructure.vendor"})],imports:[D,L,_,k,Ft]})};var Rt=class i{static \u0275fac=function(e){return new(e||i)};static \u0275mod=M({type:i});static \u0275inj=b({providers:[V({scope:"infrastructure/vendor",alias:"infrastructure.vendor"})],imports:[D,L,Ne,Fe,_,k,ne]})};var It=class i{static \u0275fac=function(e){return new(e||i)};static \u0275mod=M({type:i});static \u0275inj=b({providers:[V({scope:"infrastructure/vendor",alias:"infrastructure.vendor"})],imports:[D,L,Ne,Fe,_,k,ne]})};var re=class i{static \u0275fac=function(e){return new(e||i)};static \u0275mod=M({type:i});static \u0275inj=b({providers:[V({scope:"infrastructure/model",alias:"infrastructure.model"})],imports:[D,Pe,ee,be,he,_]})};var kt=class i{static \u0275fac=function(e){return new(e||i)};static \u0275mod=M({type:i});static \u0275inj=b({providers:[V({scope:"infrastructure/model",alias:"infrastructure.model"})],imports:[D,L,re,_,k]})};var jt=class i{static \u0275fac=function(e){return new(e||i)};static \u0275mod=M({type:i});static \u0275inj=b({providers:[V({scope:"infrastructure/model",alias:"infrastructure.model"})],imports:[D,L,re,_,k]})};var Et=class i{static \u0275fac=function(e){return new(e||i)};static \u0275mod=M({type:i});static \u0275inj=b({providers:[V({scope:"infrastructure/model",alias:"infrastructure.model"})],imports:[re,_]})};var Bt=class i{static \u0275fac=function(e){return new(e||i)};static \u0275mod=M({type:i});static \u0275inj=b({providers:[V({scope:"infrastructure/model",alias:"infrastructure.model"})],imports:[D,L,Et,_,k]})};var Ot=class i{static \u0275fac=function(e){return new(e||i)};static \u0275mod=M({type:i});static \u0275inj=b({providers:[V({scope:"infrastructure/model",alias:"infrastructure.model"})],imports:[D,L,Ne,Fe,re,_,k]})};var Lt=class i{static \u0275fac=function(e){return new(e||i)};static \u0275mod=M({type:i});static \u0275inj=b({providers:[V({scope:"infrastructure/model",alias:"infrastructure.model"})],imports:[D,L,Ne,Fe,re,_,k]})};var $t=class i{static \u0275fac=function(e){return new(e||i)};static \u0275mod=M({type:i});static \u0275inj=b({providers:[V({scope:"infrastructure/model",alias:"infrastructure.model"})],imports:[Ve,kt,Ot,Lt,Bt,jt]})};var Qt=class i{static \u0275fac=function(e){return new(e||i)};static \u0275mod=M({type:i});static \u0275inj=b({providers:[V({scope:"infrastructure/model",alias:"infrastructure.model"})],imports:[D,Ce,Pe,ee,be,he,_]})};var Gt=class i{static \u0275fac=function(e){return new(e||i)};static \u0275mod=M({type:i});static \u0275inj=b({providers:[V({scope:"infrastructure/model",alias:"infrastructure.model"})],imports:[D,dt,L,et,Xe,Qt,$t,_,k]})};var qt=class i{static \u0275fac=function(e){return new(e||i)};static \u0275mod=M({type:i});static \u0275inj=b({providers:[V({scope:"infrastructure/vendor",alias:"infrastructure.vendor"})],imports:[D,Gt,k]})};var zt=class i{static \u0275fac=function(e){return new(e||i)};static \u0275mod=M({type:i});static \u0275inj=b({providers:[V({scope:"infrastructure/vendor",alias:"infrastructure.vendor"})],imports:[Ve,Nt,Rt,It,Pt,At,qt]})};var Kt=class i{static \u0275fac=function(e){return new(e||i)};static \u0275mod=M({type:i});static \u0275inj=b({providers:[V({scope:"infrastructure/vendor",alias:"infrastructure.vendor"})],imports:[D,Ce,ee,be,he,_]})};var Ht=class i{static \u0275fac=function(e){return new(e||i)};static \u0275mod=M({type:i});static \u0275inj=b({providers:[V({scope:"infrastructure/vendor",alias:"infrastructure.vendor"})],imports:[D,dt,L,et,Xe,_,k,Kt,zt]})};var fn=[{path:"",component:St}],ci=class i{static \u0275fac=function(e){return new(e||i)};static \u0275mod=M({type:i});static \u0275inj=b({imports:[Ut.forChild(fn),Ht,Ut]})};export{ci as VendorViewListRouteModule};
