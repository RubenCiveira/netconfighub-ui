/* @autogenerated */
import { ModelProjection } from '@features/infrastructure/model/model/model.model';
import { Signal } from '@angular/core';
import { ProjectDeviceProjection } from '@features/installations/project-device/model/project-device.model';

export interface DeviceInstance {
  uid: string;
  projectDevice: { $ref: string } | null;
  model: { $ref: string } | null;
  serialNumber: string;
  modelPhoto?: string;
  serialNumberPhoto?: string;
  placementPhoto?: string;
  installedAt: Date;
  installedBy: string;
  version?: number;
}
export interface DeviceInstanceFilter {
  search?: string;
  uids?: string[];
  limit?: number;
  order?: string;
  serialNumber?: string;
  projectDevice?: string[];
  projectDevices?: string[];
  model?: string[];
  models?: string[];
}
export interface DeviceInstanceProjection {
  uid: string;
  projectDevice: Signal<ProjectDeviceProjection | null>;
  model: Signal<ModelProjection | null>;
  serialNumber: string;
  modelPhoto?: string;
  serialNumberPhoto?: string;
  placementPhoto?: string;
  installedAt: Date;
  installedBy: string;
  version?: number;
}
export function deviceInstanceProjectionToValue(
  proyection: DeviceInstance | DeviceInstanceProjection | null | undefined,
): DeviceInstance | null {
  const valueOfProjectDevice =
    typeof proyection?.projectDevice == 'function' ? proyection?.projectDevice()?.uid : proyection?.projectDevice?.$ref;
  const valueOfModel = typeof proyection?.model == 'function' ? proyection?.model()?.uid : proyection?.model?.$ref;
  return proyection
    ? {
        uid: proyection.uid,
        projectDevice: valueOfProjectDevice ? { $ref: valueOfProjectDevice } : null,
        model: valueOfModel ? { $ref: valueOfModel } : null,
        serialNumber: proyection.serialNumber,
        modelPhoto: proyection.modelPhoto,
        serialNumberPhoto: proyection.serialNumberPhoto,
        placementPhoto: proyection.placementPhoto,
        installedAt: proyection.installedAt,
        installedBy: proyection.installedBy,
        version: proyection.version,
      }
    : null;
}
