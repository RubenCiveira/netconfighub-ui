<!-- @autogenerated -->
<model-view-standar-actions #actions [hidden]="hidden()" [fixed]="fixed()">
  <div class="table-toolbar">
    @if (actions.hasMultiple() && actions.hasSelection()) {
      <div style="display: flex; flex-direction: row; padding: 10px 10px 0 10px; align-items: center">
        <ng-container *ngTemplateOutlet="actions.theSelectionTemplate() || null"></ng-container>
      </div>
    }
    @if (!actions.hasMultiple() || !actions.hasSelection()) {
      <div style="display: flex; flex-direction: row; padding: 10px 10px 0 10px; align-items: center">
        <ng-container *ngTemplateOutlet="actions.theToolbarTemplate() || null"></ng-container>
        <div style="flex: 1"></div>
        <button mat-raised-button (click)="panel.toggle()">
          @if (panel.expanded) {
            <mat-icon>keyboard_arrow_up</mat-icon>
          } @else {
            <mat-icon>filter_list</mat-icon>
          }
          {{ 'infrastructure.model.list.filter.button' | transloco }}
        </button>
        <button mat-icon-button (click)="reload()">
          <mat-icon>refresh</mat-icon>
        </button>
      </div>
    }
    <mat-expansion-panel #panel style="margin: 10px">
      <!-- Formulario de filtros -->
      <h2>{{ 'infrastructure.model.list.search.title' | transloco }}</h2>
      <model-view-search #searchForm [formControl]="search" />
      <button mat-raised-button [disabled]="searchForm.form.invalid || !searchForm.form.dirty" (click)="makeSearch()">
        {{ 'infrastructure.model.list.search.button' | transloco }}
      </button>
    </mat-expansion-panel>
  </div>
  <div class="main">
    @if (!list.searching() && list()?.length == 0) {
      <div class="page">
        <h1>No content</h1>
      </div>
    } @else {
      <list-view
        [mode]="'list'"
        [display]="displayer"
        [searching]="list.searching()"
        [data]="list()"
        (next)="next()"
        (prev)="prev()"
        (activate)="actions.defaultAction([$event])"
        [selectionMultiple]="!!actions.hasMultiple()"
        [selectionModel]="actions.selectionModel"
      >
        <list-view-row>
          <ng-template listViewRowTitle let-row="$implicit">
            {{ row.name }}
          </ng-template>
          <ng-template listViewRowAction let-row="$implicit">
            <ng-container
              *ngTemplateOutlet="actions.theContextTemplate() || null; context: { row: row, key: row.uid }"
            ></ng-container>
          </ng-template>
        </list-view-row>
        <list-view-table>
          <ng-template
            listViewColumn
            title="{{ 'infrastructure.model.list.column.name.title' | transloco }}"
            tooltip="{{ 'infrastructure.model.list.column.name.tooltip' | transloco }}"
            let-row="$implicit"
          >
            {{ row.name }}
          </ng-template>
          <ng-template
            listViewColumn
            title="{{ 'infrastructure.model.list.column.vendor.title' | transloco }}"
            tooltip="{{ 'infrastructure.model.list.column.vendor.tooltip' | transloco }}"
            let-row="$implicit"
          >
            {{ row.vendor()?.name }}
          </ng-template>
          <ng-template
            listViewColumn
            title="{{ 'infrastructure.model.list.column.type.title' | transloco }}"
            tooltip="{{ 'infrastructure.model.list.column.type.tooltip' | transloco }}"
            let-row="$implicit"
          >
            {{ row.type()?.name }}
          </ng-template>
          <ng-template listViewColumn let-row="$implicit">
            <ng-container
              *ngTemplateOutlet="actions.theContextTemplate() || null; context: { row: row, key: row.uid }"
            ></ng-container>
          </ng-template>
        </list-view-table>
      </list-view>
    }
  </div>
</model-view-standar-actions>
