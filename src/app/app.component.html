<!-- @autogenerated -->
<nav
  [ngClass]="{
    sidebar: true,
    active: visibleMenu,
    full: menuStyle === 'full',
    mini: menuStyle === 'mini',
    hide: menuStyle === 'hide',
  }"
>
  <app-menu [items]="currentMenu()" [mode]="visibleMenu ? 'full' : menuStyle"></app-menu>
</nav>
<div [ngClass]="{ overlay: true, active: visibleMenu }" (click)="visibleMenu = false"></div>
<div
  [ngClass]="{
    'main-content': true,
    full: menuStyle === 'full',
    mini: menuStyle === 'mini',
    hide: menuStyle === 'hide',
  }"
>
  <header>
    <button mat-icon-button (click)="toogleMenu()"><mat-icon>menu</mat-icon></button>
    <span class="title"> {{ currentUser()?.name }} </span>
    @if (currentUser()?.authenticated) {
      <button mat-icon-button [matMenuTriggerFor]="userMenu">
        <mat-icon>account_circle</mat-icon>
      </button>
    } @else {
      <button mat-icon-button [matMenuTriggerFor]="userMenu">
        <mat-icon>lock</mat-icon>
      </button>
    }
  </header>
  <main>
    <div class="content-page">
      @if (bootstrap) {
        <router-outlet />
      } @else {
        <p>Loading...</p>
      }
    </div>
  </main>
</div>

<mat-menu #userMenu="matMenu">
  @if (currentUser()?.authenticated) {
    <button mat-menu-item (click)="logout()">logout</button>
  } @else {
    <button mat-menu-item (click)="login()">login</button>
  }
</mat-menu>
