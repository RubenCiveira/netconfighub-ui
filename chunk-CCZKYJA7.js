import{a as at,b as lt,c as fe,d as ue,h as Ce,i as ee,j as ve,k as st,l as Te,o as _e,p as De,q as gt,r as Ct,s as vt,t as Tt,u as bt,v as ht,y as wt,z as yt}from"./chunk-NWUJ2N7A.js";import{$a as F,$d as ct,Aa as G,Ba as $,Bb as P,Bc as Z,Cb as k,Cc as pe,Dc as ce,De as ut,Fa as m,Fb as f,Fc as de,Ga as s,Gb as I,Gc as x,Ha as p,Hc as rt,Ia as T,Kc as mt,L as Ye,M as u,O as Ze,Oa as ne,Pa as X,Qb as ot,Ra as W,Rb as D,Sa as M,Ta as et,U as L,Ua as tt,V as Q,Zd as ge,_ as n,_a as A,_d as pt,a as q,ab as S,eb as d,ee as dt,fb as Y,fc as We,fe as H,ga as r,gb as N,ge as B,ka as c,kc as z,ke as be,lc as K,le as he,mc as j,me as we,ne as ye,o as J,oa as g,ob as He,oc as y,oe as Me,pa as C,pe as xe,qb as le,ra as oe,rb as it,sa as b,sc as nt,tb as Ue,vc as E,wb as h,wc as me,xb as w,xc as se,yb as R,ye as ft,zc as V}from"./chunk-GUZMYLNP.js";function Mt(i){let t=[];return i.name&&t.push(rt.equal("name",i.name)),J(t)}function xt(){return J({allows:[{name:"create",allowed:!0},{name:"update",allowed:!0},{name:"delete",allowed:!0},{name:"list",allowed:!0},{name:"retrieve",allowed:!0}],fields:{noEditables:[]}})}function _t(i){return q({},i)}function Dt(i){let t=q({},i);return J(t)}var _=class i{repo;static metadata(t){return{key:"uid",name:"config-template",provider:t.provider("uid","netconfighub_documents","netconfighub_config_template","netconfighub_attacheds",xt,Mt,_t,Dt),reference:e=>null}}constructor(t){this.repo=new lt(i.metadata(t))}acl(){return this.repo.acl()}checkAcl(t){return this.repo.checkAcl(t||null)}generateComb(){return this.repo.generateComb()}add(t){return t.uid=this.generateComb(),this.repo.add(t)}update(t){return this.repo.update(t)}deleteByKey(t){return this.repo.deleteByKey(t)}canDeleteSelection(){return this.repo.canDeleteSelection()}deleteSelection(t){return this.repo.deleteSelection(this.publicQueryFilter(t))}retrieve(t){return this.repo.retrieve(t)}projection(t){return this.repo.projection(t)}list(t){return this.repo.list(this.publicQueryFilter(t))}values(t){return this.repo.values(this.publicQueryFilter(t))}projections(t){return this.repo.projections(t)}displayProvider(){return{display:t=>t.name}}selectorProvider(t){return at({search:e=>{let o=t?t():{limit:10};return o.search=e,this.values(o)},display:e=>e.name,value:e=>({$ref:e.uid,$id:e.$id}),select:e=>e.$ref?this.retrieve(e.$ref):J(void 0),equals:(e,o)=>e.$ref===o.$ref})}publicQueryFilter(t){let e={};return t.search&&(e.search=t.search),t.uids&&(e.uids=t.uids.join(",")),t.limit&&(e.limit=t.limit),t.order&&(e.order=t.order),t.name&&(e.name=t.name),e}static \u0275fac=function(e){return new(e||i)(Ze(mt))};static \u0275prov=Ye({token:i,factory:i.\u0275fac,providedIn:"root"})};var Ft=()=>["","NAME-ASC","NAME-DESC"];function Rt(i,t){i&1&&T(0,"editable-text",1)}function Pt(i,t){i&1&&T(0,"editable-text",2)}function kt(i,t){i&1&&T(0,"editable-choose",3),i&2&&m("options",it(1,Ft))}var Ve=class i extends ue{acl;uid=P(()=>this.value()?.uid);constructor(t){super(new se({search:new V(""),name:new V(""),order:new V("")})),this.acl=t.acl(),k(()=>{this.acl.fetch(this.uid()||null)}),k(()=>{let e=this.acl(),o=this.value(),l=this.uid()?e?.specific:e?.generic;setTimeout(()=>{this.definedFixed.set(l?.fields?.noEditables||[]),this.definedHidden.set(l?.fields?.noVisibles||[])})}),this.defaultValues=()=>({search:"",name:"",order:""})}static \u0275fac=function(e){return new(e||i)(c(_))};static \u0275cmp=g({type:i,selectors:[["config-template-view-search"]],standalone:!1,features:[le(fe.getValidableAccessorProvider(i)),oe],decls:4,vars:4,consts:[[3,"formGroup"],["formControlName","search","label","infrastructure.config-template.search.search"],["formControlName","name","label","infrastructure.config-template.search.name"],["formControlName","order","label","infrastructure.config-template.search.order",3,"options"]],template:function(e,o){e&1&&(s(0,"form-layout",0),G(1,Rt,1,0,"editable-text",1),G(2,Pt,1,0,"editable-text",2),G(3,kt,1,2,"editable-choose",3),p()),e&2&&(m("formGroup",o.form),r(),$(o.isVisible.search?1:-1),r(),$(o.isVisible.name?2:-1),r(),$(o.isVisible.order?3:-1))},dependencies:[Ce,ee,ve,E,me,pe,ce],encapsulation:2})};function jt(i,t){i&1&&T(0,"editable-text",1)}var ie=class i extends ue{acl;uid=P(()=>this.value()?.uid);constructor(t){super(new se({uid:new V(""),name:new V("",[nt.required]),version:new V(0)})),this.acl=t.acl(),k(()=>{this.acl.fetch(this.uid()||null)}),k(()=>{let e=this.acl(),o=this.value(),l=this.uid()?e?.specific:e?.generic;setTimeout(()=>{this.definedFixed.set(l?.fields?.noEditables||[]),this.definedHidden.set(l?.fields?.noVisibles||[])})}),this.defaultValues=()=>({uid:"",name:"",version:0})}static \u0275fac=function(e){return new(e||i)(c(_))};static \u0275cmp=g({type:i,selectors:[["config-template-view-form-group"]],standalone:!1,features:[le(fe.getValidableAccessorProvider(i)),oe],decls:2,vars:2,consts:[[3,"formGroup"],["formControlName","name","label","infrastructure.config-template.form-group.name"]],template:function(e,o){e&1&&(s(0,"form-layout",0),G(1,jt,1,0,"editable-text",1),p()),e&2&&(m("formGroup",o.form),r(),$(o.isVisible.name?1:-1))},dependencies:[ee,ve,E,me,pe,ce],encapsulation:2})};var Et=["formTemplate"];function Bt(i,t){if(i&1){let e=X();T(0,"config-template-view-form-group",2,1),s(2,"div",3)(3,"button",4),W("click",function(){L(e);let l=M();return Q(l.save())}),d(4),h(5,"transloco"),p()()}if(i&2){let e=S(1),o=M();m("formControl",o.form)("fixed",o.fixedProperties())("hidden",o.hiddenProperties())("defined",o.definedProperties()),r(3),m("disabled",e.form.invalid||!e.form.dirty),r(),N(" ",w(5,6,"infrastructure.config-template.action.create.createButton")," ")}}var Se=class i{constructor(t,e){this.repository=t;this.acl=t.acl(),this.acl.fetch(null).subscribe(o=>{this.visibleValue.set(this.allowed(o?.generic))}),e.selectTranslateObject("action.create",{},"infrastructure/config-template").subscribe(o=>{o.label&&this.label.set(o.label),o.tooltip&&this.tooltip.set(o.tooltip),o.icon&&this.icon.set(o.icon),o.title&&this.title.set(o.title)})}name="create";contextual=!1;multiple=!1;container=n(void 0);selection=n([]);render=I("formTemplate");title=n("Creando nuevo config template");label=n("Crear");icon=n("add");tooltip=n("Crea un nuevo item");default=f(!1);visibleValue=n(!1);enabledValue=n(!0);fixed=f();hidden=f();fixedProperties=P(()=>Object.keys(this.fixed()||{}));hiddenProperties=P(()=>Object.keys(this.hidden()||{}));definedProperties=P(()=>q(q({},this.hidden()||{}),this.fixed()||{}));form=new V(void 0);acl;visible(t){return this.visibleValue}enabled(t){return this.enabledValue}run(){this.form.patchValue({})}save(){let t=this.form.value;if(!t)throw Error("Unable to save without value");this.repository.add(t).subscribe(()=>this.container()?.close())}allowed(t){return!!t?.allows?.find(e=>e.name=="create")?.allowed}static \u0275fac=function(e){return new(e||i)(c(_),c(z))};static \u0275cmp=g({type:i,selectors:[["config-template-view-create-action"]],viewQuery:function(e,o){e&1&&A(o.render,Et,5),e&2&&F()},inputs:{default:[1,"default"],fixed:[1,"fixed"],hidden:[1,"hidden"]},standalone:!1,decls:2,vars:0,consts:[["formTemplate",""],["updateForm",""],[1,"main",3,"formControl","fixed","hidden","defined"],[1,"buttons"],["mat-raised-button","",3,"click","disabled"]],template:function(e,o){e&1&&b(0,Bt,6,8,"ng-template",null,0,R)},dependencies:[ie,H,E,Z,K],styles:[".main[_ngcontent-%COMP%]{flex:1;display:flex;flex-direction:column;overflow:auto}.buttons[_ngcontent-%COMP%]{padding:20px 10px}"]})};var Gt=["dialogTemplate"];function $t(i,t){i&1&&(s(0,"h2",1),d(1),h(2,"transloco"),p(),s(3,"mat-dialog-content")(4,"p"),d(5),h(6,"transloco"),p()(),s(7,"mat-dialog-actions")(8,"button",2),d(9),h(10,"transloco"),p(),s(11,"button",3),d(12),h(13,"transloco"),p()()),i&2&&(r(),Y(w(2,6,"infrastructure.config-template.action.delete.title")),r(4),Y(w(6,8,"infrastructure.config-template.action.delete.content")),r(3),m("mat-dialog-close",!1),r(),N(" ",w(10,10,"infrastructure.config-template.action.delete.cancelBtn")," "),r(2),m("mat-dialog-close",!0),r(),N(" ",w(13,12,"infrastructure.config-template.action.delete.okBtn")," "))}var Ae=class i{constructor(t,e,o,l){this.repository=t;this.dialog=e;this.snakeBar=o;this.acl=t.acl(),this.acl.fetch(null).subscribe(a=>{this.visibleValue.set(this.allowed(a?.generic))}),l.selectTranslateObject("action.delete",{},"infrastructure/config-template").subscribe(a=>{a.label&&this.label.set(a.label),a.tooltip&&this.tooltip.set(a.tooltip),a.icon&&this.icon.set(a.icon),a.title&&this.title.set(a.title),a.dismiss&&(this.dismiss=a.dismiss),a.report&&(this.report=a.report)})}name="delete";contextual=!0;multiple=!1;container=n(void 0);selection=n([]);render=n(void 0);dialogTemplate=I("dialogTemplate");title=n("Borrando el item");label=n("Delete");icon=n("delete");tooltip=n("Borra el elemento seleccionado");default=f(!1);visibleValue=n(!1);enabledValue=n(!0);acl;dialgoRef;dialogSubs;dismiss="Close";report="Deleted...";visible(t){return this.visibleValue}enabled(t){return this.enabledValue}run(){let t=this.dialogTemplate();t&&(this.dialgoRef?.close(),this.dialgoRef=this.dialog.open(t),this.dialogSubs=this.dialgoRef.afterClosed().subscribe(e=>{e?this.delete(this.selection()[0]):this.container()?.close()}))}ngOnDestroy(){this.dialgoRef?.close(),this.dialogSubs?.unsubscribe()}delete(t){this.repository.deleteByKey(t.uid).subscribe(()=>{this.container()?.close(),this.snakeBar.open(this.report,this.dismiss,{duration:5e3})})}allowed(t){return!!t?.allows?.find(e=>e.name=="delete")?.allowed}static \u0275fac=function(e){return new(e||i)(c(_),c(be),c(_e),c(z))};static \u0275cmp=g({type:i,selectors:[["config-template-view-delete-action"]],viewQuery:function(e,o){e&1&&A(o.dialogTemplate,Gt,5),e&2&&F()},inputs:{default:[1,"default"]},standalone:!1,decls:2,vars:0,consts:[["dialogTemplate",""],["mat-dialog-title",""],["mat-button","",3,"mat-dialog-close"],["mat-button","","cdkFocusInitial","",3,"mat-dialog-close"]],template:function(e,o){e&1&&b(0,$t,14,14,"ng-template",null,0,R)},dependencies:[H,he,we,Me,ye,K],styles:[".main[_ngcontent-%COMP%]{flex:1;display:flex;flex-direction:column;overflow:hidden}"]})};var zt=["dialogTemplate"];function Kt(i,t){i&1&&(s(0,"h2",1),d(1),h(2,"transloco"),p(),s(3,"mat-dialog-content")(4,"p"),d(5),h(6,"transloco"),p()(),s(7,"mat-dialog-actions")(8,"button",2),d(9),h(10,"transloco"),p(),s(11,"button",3),d(12),h(13,"transloco"),p()()),i&2&&(r(),Y(w(2,6,"infrastructure.config-template.action.delete-selection.title")),r(4),Y(w(6,8,"infrastructure.config-template.action.delete-selection.content")),r(3),m("mat-dialog-close",!1),r(),N(" ",w(10,10,"infrastructure.config-template.action.delete-selection.cancelBtn")," "),r(2),m("mat-dialog-close",!0),r(),N(" ",w(13,12,"infrastructure.config-template.action.delete-selection.okBtn")," "))}var Fe=class i{constructor(t,e,o,l){this.repository=t;this.dialog=e;this.snakeBar=o;this.acl=t.acl(),this.acl.fetch(null).subscribe(a=>{this.visibleValue.set(this.allowed(a?.generic))}),l.selectTranslateObject("action.delete-selection",{},"infrastructure/config-template").subscribe(a=>{a.label&&this.label.set(a.label),a.tooltip&&this.tooltip.set(a.tooltip),a.icon&&this.icon.set(a.icon),a.title&&this.title.set(a.title),a.dismiss&&(this.dismiss=a.dismiss),a.report&&(this.report=a.report),a.progress&&(this.progress=a.progress)})}name="deleteSelection";contextual=!0;multiple=!0;container=n(void 0);selection=n([]);render=n(void 0);dialogTemplate=I("dialogTemplate");title=n("Borrando el item");label=n("Delete");icon=n("delete");tooltip=n("Borra el elemento seleccionado");default=f(!1);visibleValue=n(!1);enabledValue=n(!0);acl;dialgoRef;dialogSubs;dismiss="Close";report="Deleted...";progress="Deleted...";visible(t){return this.visibleValue}enabled(t){return this.enabledValue}run(){let t=this.dialogTemplate();t&&(this.dialgoRef?.close(),this.dialgoRef=this.dialog.open(t),this.dialogSubs=this.dialgoRef.afterClosed().subscribe(e=>{e?this.deleteSelection(this.selection()):this.container()?.close()}))}ngOnDestroy(){this.dialgoRef?.close(),this.dialogSubs?.unsubscribe()}deleteSelection(t){let e={uids:t.map(o=>o.uid)};this.dialgoRef=this.dialog.open(gt,{data:{title:this.progress,progress:this.repository.deleteSelection(e)}}),this.dialogSubs=this.dialgoRef.afterClosed().subscribe(o=>{this.container()?.selectionModel.clearSelection(),this.container()?.close(),this.snakeBar.open(this.report,this.dismiss,{duration:5e3})})}allowed(t){return this.repository.canDeleteSelection()&&!!t?.allows?.find(e=>e.name=="delete")?.allowed}static \u0275fac=function(e){return new(e||i)(c(_),c(be),c(_e),c(z))};static \u0275cmp=g({type:i,selectors:[["config-template-view-delete-selection-action"]],viewQuery:function(e,o){e&1&&A(o.dialogTemplate,zt,5),e&2&&F()},inputs:{default:[1,"default"]},standalone:!1,decls:2,vars:0,consts:[["dialogTemplate",""],["mat-dialog-title",""],["mat-button","",3,"mat-dialog-close"],["mat-button","","cdkFocusInitial","",3,"mat-dialog-close"]],template:function(e,o){e&1&&b(0,Kt,14,14,"ng-template",null,0,R)},dependencies:[H,he,we,Me,ye,K],styles:[".main[_ngcontent-%COMP%]{flex:1;display:flex;flex-direction:column;overflow:hidden}"]})};var Re=class i{data=f.required();form=new V({value:void 0,disabled:!0});constructor(){k(()=>this.form.patchValue(this.data()))}static \u0275fac=function(e){return new(e||i)};static \u0275cmp=g({type:i,selectors:[["config-template-view-detail"]],inputs:{data:[1,"data"]},standalone:!1,decls:1,vars:1,consts:[[3,"formControl"]],template:function(e,o){e&1&&T(0,"config-template-view-form-group",0),e&2&&m("formControl",o.form)},dependencies:[ie,E,Z],encapsulation:2})};var Wt=["formTemplate"];function Jt(i,t){if(i&1&&T(0,"config-template-view-detail",1),i&2){let e=M();m("data",e.selection()[0])}}var Pe=class i{name="detail";contextual=!0;multiple=!1;container=n(void 0);selection=n([]);render=I("formTemplate");title=n("Detalle del item");label=n("Detalle");icon=n("preview");tooltip=n("Muestra el detalle del elemento seleccionado");default=f(!1);visibleValue=n(!1);enabledValue=n(!0);constructor(t){t.selectTranslateObject("action.detail",{},"infrastructure/config-template").subscribe(e=>{e.label&&this.label.set(e.label),e.tooltip&&this.tooltip.set(e.tooltip),e.icon&&this.icon.set(e.icon),e.title&&this.title.set(e.title)})}visible(t){return this.visibleValue}enabled(t){return this.enabledValue}run(){}allowed(t){return!!t?.allows?.find(e=>e.name=="retrieve")?.allowed}static \u0275fac=function(e){return new(e||i)(c(z))};static \u0275cmp=g({type:i,selectors:[["config-template-view-detail-action"]],viewQuery:function(e,o){e&1&&A(o.render,Wt,5),e&2&&F()},inputs:{default:[1,"default"]},standalone:!1,decls:2,vars:0,consts:[["formTemplate",""],[1,"main",3,"data"]],template:function(e,o){e&1&&b(0,Jt,1,1,"ng-template",null,0,R)},dependencies:[Re],styles:[".main[_ngcontent-%COMP%]{flex:1;display:flex;flex-direction:column;overflow:auto}"]})};var Yt=["formTemplate"];function Zt(i,t){if(i&1){let e=X();T(0,"config-template-view-form-group",2,1),s(2,"div",3)(3,"button",4),W("click",function(){L(e);let l=M();return Q(l.save())}),d(4),h(5,"transloco"),p()()}if(i&2){let e=S(1),o=M();m("formControl",o.form)("fixed",o.fixedProperties())("hidden",o.hiddenProperties())("defined",o.definedProperties()),r(3),m("disabled",e.form.invalid||!e.form.dirty),r(),N(" ",w(5,6,"infrastructure.config-template.action.edit.saveBtn")," ")}}var ke=class i{constructor(t,e){this.repository=t;this.acl=t.acl(),this.acl.fetch(null).subscribe(o=>{this.visibleValue.set(this.allowed(o?.generic))}),e.selectTranslateObject("action.edit",{},"infrastructure/config-template").subscribe(o=>{o.label&&this.label.set(o.label),o.tooltip&&this.tooltip.set(o.tooltip),o.icon&&this.icon.set(o.icon),o.title&&this.title.set(o.title)})}name="edit";contextual=!0;multiple=!1;container=n(void 0);selection=n([]);render=I("formTemplate");title=n("Editando el item");label=n("Editar");icon=n("edit_note");tooltip=n("Edita el elemento seleccionado");default=f(!1);visibleValue=n(!1);enabledValue=n(!0);fixed=f();hidden=f();fixedProperties=P(()=>Object.keys(this.fixed()||{}));hiddenProperties=P(()=>Object.keys(this.hidden()||{}));definedProperties=P(()=>q(q({},this.hidden()||{}),this.fixed()||{}));form=new V(void 0);acl;visible(t){return this.visibleValue}enabled(t){return this.enabledValue}run(){this.form.patchValue(this.selection()[0])}save(){let t=this.form.value;if(!t)throw Error("Unable to save without value");this.repository.update(t).subscribe(()=>this.container()?.close())}allowed(t){return!!t?.allows?.find(e=>e.name=="create")?.allowed}static \u0275fac=function(e){return new(e||i)(c(_),c(z))};static \u0275cmp=g({type:i,selectors:[["config-template-view-edit-action"]],viewQuery:function(e,o){e&1&&A(o.render,Yt,5),e&2&&F()},inputs:{default:[1,"default"],fixed:[1,"fixed"],hidden:[1,"hidden"]},standalone:!1,decls:2,vars:0,consts:[["formTemplate",""],["createForm",""],[1,"main",3,"formControl","fixed","hidden","defined"],[1,"buttons"],["mat-raised-button","",3,"click","disabled"]],template:function(e,o){e&1&&b(0,Zt,6,8,"ng-template",null,0,R)},dependencies:[ie,H,E,Z,K],styles:[".main[_ngcontent-%COMP%]{flex:1;display:flex;flex-direction:column;overflow:auto}.buttons[_ngcontent-%COMP%]{padding:20px 10px}"]})};var ti=["container"],ii=["*"];function oi(i,t){i&1&&tt(0)}var Ie=class i extends st{constructor(e){super();this.repository=e;this.acl=this.repository.acl(),this.activated=this.repository.projection([]),this.mapper={display:o=>o.uid,load:o=>(this.acl.fetch(o),this.activated.fetch(o),this.activated)},k(()=>{let o=this.actions()?.selectionModel.selected();(!o||o.length==0)&&(this.acl.reset(),this.activated.reset())})}actions=I("container");fixed=f();hidden=f();activated;acl;mapper;static \u0275fac=function(o){return new(o||i)(c(_))};static \u0275cmp=g({type:i,selectors:[["config-template-view-standar-actions"]],viewQuery:function(o,l){o&1&&A(l.actions,ti,5),o&2&&F()},inputs:{fixed:[1,"fixed"],hidden:[1,"hidden"]},standalone:!1,features:[oe],ngContentSelectors:ii,decls:14,vars:8,consts:[["container",""],["action",""],["masterTemplate",""],[3,"mapper","name"],[3,"fixed","hidden"],[3,"default","fixed","hidden"],[3,"default"]],template:function(o,l){o&1&&(et(),s(0,"action-container",3,0),T(2,"config-template-view-create-action",4,1)(4,"config-template-view-edit-action",5,1)(6,"config-template-view-detail-action",6,1)(8,"config-template-view-delete-action",null,1)(10,"config-template-view-delete-selection-action",null,1),b(12,oi,1,0,"ng-template",null,2,R),p()),o&2&&(m("mapper",l.mapper)("name","config-template"),r(2),m("fixed",l.fixed())("hidden",l.hidden()),r(2),m("default",!0)("fixed",l.fixed())("hidden",l.hidden()),r(2),m("default",!0))},dependencies:[Te,Se,Ae,Fe,Pe,ke],styles:["[_nghost-%COMP%]{flex:1;display:flex;flex-direction:column;overflow:hidden}.main[_ngcontent-%COMP%]{flex:1;display:flex;flex-direction:column;overflow:hidden}.buttons[_ngcontent-%COMP%]{display:flex;padding:5px;flex-direction:row;align-items:center;align-self:flex-end}"]})};var Vt=(i,t)=>({row:i,key:t});function ri(i,t){i&1&&ne(0)}function ai(i,t){if(i&1&&(s(0,"div",5),b(1,ri,1,0,"ng-container",12),p()),i&2){M();let e=S(1);r(),m("ngTemplateOutlet",e.theSelectionTemplate()||null)}}function li(i,t){i&1&&ne(0)}function mi(i,t){i&1&&(s(0,"mat-icon"),d(1,"keyboard_arrow_up"),p())}function si(i,t){i&1&&(s(0,"mat-icon"),d(1,"filter_list"),p())}function pi(i,t){if(i&1){let e=X();s(0,"div",5),b(1,li,1,0,"ng-container",12),T(2,"div",13),s(3,"button",14),W("click",function(){L(e),M();let l=S(6);return Q(l.toggle())}),G(4,mi,2,0,"mat-icon")(5,si,2,0,"mat-icon"),d(6),h(7,"transloco"),p(),s(8,"button",15),W("click",function(){L(e);let l=M();return Q(l.reload())}),s(9,"mat-icon"),d(10,"refresh"),p()()()}if(i&2){M();let e=S(1),o=S(6);r(),m("ngTemplateOutlet",e.theToolbarTemplate()||null),r(3),$(o.expanded?4:5),r(2),N(" ",w(7,3,"infrastructure.config-template.list.filter.button")," ")}}function ci(i,t){i&1&&(s(0,"div",10)(1,"h1"),d(2,"No content"),p()())}function di(i,t){if(i&1&&d(0),i&2){let e=t.$implicit;N(" ",e.name," ")}}function fi(i,t){i&1&&ne(0)}function ui(i,t){if(i&1&&b(0,fi,1,0,"ng-container",21),i&2){let e=t.$implicit;M(2);let o=S(1);m("ngTemplateOutlet",o.theContextTemplate()||null)("ngTemplateOutletContext",Ue(2,Vt,e,e.uid))}}function gi(i,t){if(i&1&&d(0),i&2){let e=t.$implicit;N(" ",e.name," ")}}function Ci(i,t){i&1&&ne(0)}function vi(i,t){if(i&1&&b(0,Ci,1,0,"ng-container",21),i&2){let e=t.$implicit;M(2);let o=S(1);m("ngTemplateOutlet",o.theContextTemplate()||null)("ngTemplateOutletContext",Ue(2,Vt,e,e.uid))}}function Ti(i,t){if(i&1){let e=X();s(0,"list-view",16),W("next",function(){L(e);let l=M();return Q(l.next())})("prev",function(){L(e);let l=M();return Q(l.prev())})("activate",function(l){L(e),M();let a=S(1);return Q(a.defaultAction([l]))}),s(1,"list-view-row"),b(2,di,1,1,"ng-template",17)(3,ui,1,5,"ng-template",18),p(),s(4,"list-view-table"),b(5,gi,1,1,"ng-template",19),h(6,"transloco"),h(7,"transloco"),b(8,vi,1,5,"ng-template",20),p()()}if(i&2){let e=M(),o=S(1);m("mode","list")("display",e.displayer)("searching",e.list.searching())("data",e.list())("selectionMultiple",!!o.hasMultiple())("selectionModel",o.selectionModel),r(5),m("title",He(w(6,10,"infrastructure.config-template.list.column.name.title")))("tooltip",He(w(7,12,"infrastructure.config-template.list.column.name.tooltip")))}}var je=class i{filters=f();actionName=f("config-template");fixed=f();hidden=f();search=new V(void 0);list;displayer;constructor(t){this.displayer=t.displayProvider(),this.list=t.projections([]),k(()=>{setTimeout(()=>this.makeSearch())})}makeSearch(){let t={limit:10},e=this.search.value,o=this.filters();o?.search&&(t.search=o.search),o?.name&&(t.name=o.name),e?.search&&(t.search=e.search),e?.name&&(t.name=e.name),e?.order&&(t.order=e.order),this.list.fetch(t)}next(){this.list.next()}reload(){this.list.reset()}prev(){console.log("PREV")}static \u0275fac=function(e){return new(e||i)(c(_))};static \u0275cmp=g({type:i,selectors:[["config-template-view-list"]],inputs:{filters:[1,"filters"],actionName:[1,"actionName"],fixed:[1,"fixed"],hidden:[1,"hidden"]},standalone:!1,decls:18,vars:13,consts:[["actions",""],["panel",""],["searchForm",""],[3,"hidden","fixed"],[1,"table-toolbar"],[2,"display","flex","flex-direction","row","padding","10px 10px 0 10px","align-items","center"],[2,"margin","10px"],[3,"formControl"],["mat-raised-button","",3,"click","disabled"],[1,"main"],[1,"page"],[3,"mode","display","searching","data","selectionMultiple","selectionModel"],[4,"ngTemplateOutlet"],[2,"flex","1"],["mat-raised-button","",3,"click"],["mat-icon-button","",3,"click"],[3,"next","prev","activate","mode","display","searching","data","selectionMultiple","selectionModel"],["listViewRowTitle",""],["listViewRowAction",""],["listViewColumn","",3,"title","tooltip"],["listViewColumn",""],[4,"ngTemplateOutlet","ngTemplateOutletContext"]],template:function(e,o){if(e&1){let l=X();s(0,"config-template-view-standar-actions",3,0)(2,"div",4),G(3,ai,2,1,"div",5),G(4,pi,11,5,"div",5),s(5,"mat-expansion-panel",6,1)(7,"h2"),d(8),h(9,"transloco"),p(),T(10,"config-template-view-search",7,2),s(12,"button",8),W("click",function(){return L(l),Q(o.makeSearch())}),d(13),h(14,"transloco"),p()()(),s(15,"div",9),G(16,ci,3,0,"div",10)(17,Ti,9,14,"list-view",11),p()()}if(e&2){let l,a=S(1),Xe=S(11);m("hidden",o.hidden())("fixed",o.fixed()),r(3),$(a.hasMultiple()&&a.hasSelection()?3:-1),r(),$(!a.hasMultiple()||!a.hasSelection()?4:-1),r(4),Y(w(9,9,"infrastructure.config-template.list.search.title")),r(2),m("formControl",o.search),r(2),m("disabled",Xe.form.invalid||!Xe.form.dirty),r(),N(" ",w(14,11,"infrastructure.config-template.list.search.button")," "),r(3),$(!o.list.searching()&&((l=o.list())==null?null:l.length)==0?16:17)}},dependencies:[ot,Ve,Ie,wt,Ct,vt,Tt,bt,ht,H,dt,ft,pt,E,Z,K],styles:["[_nghost-%COMP%]{flex:1;display:flex;flex-direction:column;overflow:hidden}.main[_ngcontent-%COMP%]{flex:1;display:flex;flex-direction:column;overflow:hidden}.page[_ngcontent-%COMP%]{padding:10px 50px}.page[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-size:var(--mat-sys-title-large-size);font-family:var(--mat-sys-title-large-font)}"]})};var Ee=class i{static \u0275fac=function(e){return new(e||i)};static \u0275cmp=g({type:i,selectors:[["config-template-view-list-page"]],standalone:!1,decls:1,vars:0,template:function(e,o){e&1&&T(0,"config-template-view-list")},dependencies:[je],styles:["[_nghost-%COMP%]{flex:1;display:flex;flex-direction:column;overflow:hidden;border-radius:var(--mat-sys-corner-medium);box-shadow:var(--mat-sys-level3);margin:15px}"]})};var O=class i{static \u0275fac=function(e){return new(e||i)};static \u0275mod=C({type:i});static \u0275inj=u({providers:[y({scope:"infrastructure/config-template",alias:"infrastructure.config-template"})],imports:[D,ee,de,ge,x]})};var Be=class i{static \u0275fac=function(e){return new(e||i)};static \u0275mod=C({type:i});static \u0275inj=u({providers:[y({scope:"infrastructure/config-template",alias:"infrastructure.config-template"})],imports:[D,O,B,x,j]})};var Oe=class i{static \u0275fac=function(e){return new(e||i)};static \u0275mod=C({type:i});static \u0275inj=u({providers:[y({scope:"infrastructure/config-template",alias:"infrastructure.config-template"})],imports:[D,O,B,x,j]})};var Le=class i{static \u0275fac=function(e){return new(e||i)};static \u0275mod=C({type:i});static \u0275inj=u({providers:[y({scope:"infrastructure/config-template",alias:"infrastructure.config-template"})],imports:[O,x]})};var Qe=class i{static \u0275fac=function(e){return new(e||i)};static \u0275mod=C({type:i});static \u0275inj=u({providers:[y({scope:"infrastructure/config-template",alias:"infrastructure.config-template"})],imports:[D,Le,B,x,j]})};var Ge=class i{static \u0275fac=function(e){return new(e||i)};static \u0275mod=C({type:i});static \u0275inj=u({providers:[y({scope:"infrastructure/config-template",alias:"infrastructure.config-template"})],imports:[D,O,B,xe,De,x,j]})};var $e=class i{static \u0275fac=function(e){return new(e||i)};static \u0275mod=C({type:i});static \u0275inj=u({providers:[y({scope:"infrastructure/config-template",alias:"infrastructure.config-template"})],imports:[D,O,B,xe,De,x,j]})};var qe=class i{static \u0275fac=function(e){return new(e||i)};static \u0275mod=C({type:i});static \u0275inj=u({providers:[y({scope:"infrastructure/config-template",alias:"infrastructure.config-template"})],imports:[Te,Be,Ge,$e,Qe,Oe]})};var ze=class i{static \u0275fac=function(e){return new(e||i)};static \u0275mod=C({type:i});static \u0275inj=u({providers:[y({scope:"infrastructure/config-template",alias:"infrastructure.config-template"})],imports:[D,Ce,ee,de,ge,x]})};var Ke=class i{static \u0275fac=function(e){return new(e||i)};static \u0275mod=C({type:i});static \u0275inj=u({providers:[y({scope:"infrastructure/config-template",alias:"infrastructure.config-template"})],imports:[D,ze,qe,yt,B,ut,ct,x,j]})};var hi=[{path:"",component:Ee}],St=class i{static \u0275fac=function(e){return new(e||i)};static \u0275mod=C({type:i});static \u0275inj=u({imports:[We.forChild(hi),Ke,We]})};export{St as ConfigTemplateViewListRouteModule};
