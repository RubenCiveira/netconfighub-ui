import{a as D}from"./chunk-7XDVKKAV.js";import{c as de,d as fe,h as ye,i as Y,j as ge,k as it,l as ve,o as xe,p as _e,q as st,r as pt,s as ct,t as mt,u as dt,v as ft,y as ut,z as yt}from"./chunk-NWUJ2N7A.js";import{$a as F,$d as nt,Aa as Q,Ba as q,Bb as P,Bc as X,Cb as I,Cc as pe,Dc as ce,De as lt,Fa as s,Fb as f,Fc as me,Ga as p,Gb as k,Gc as x,Ha as c,Ia as v,M as u,Oa as oe,Pa as W,Qb as et,Ra as K,Rb as _,Sa as M,Ta as Xe,U as O,Ua as Ye,V as G,Zd as ue,_ as n,_a as A,_d as ot,a as te,ab as N,eb as d,ee as rt,fb as J,fc as Ke,fe as H,ga as r,gb as S,ge as B,ka as m,kc as $,ke as Ce,lc as z,le as Te,mc as E,me as be,ne as he,oa as y,ob as He,oc as w,oe as we,pa as g,pe as Me,qb as ae,ra as ie,rb as Ze,sa as T,sc as tt,tb as Ue,vc as j,wb as b,wc as le,xb as h,xc as se,yb as R,ye as at,zc as V}from"./chunk-GUZMYLNP.js";var bt=()=>["","NAME-ASC","NAME-DESC"];function ht(t,i){t&1&&v(0,"editable-text",1)}function wt(t,i){t&1&&v(0,"editable-text",2)}function Mt(t,i){t&1&&v(0,"editable-choose",3),t&2&&s("options",Ze(1,bt))}var Ve=class t extends fe{acl;uid=P(()=>this.value()?.uid);constructor(i){super(new se({search:new V(""),name:new V(""),order:new V("")})),this.acl=i.acl(),I(()=>{this.acl.fetch(this.uid()||null)}),I(()=>{let e=this.acl(),o=this.value(),l=this.uid()?e?.specific:e?.generic;setTimeout(()=>{this.definedFixed.set(l?.fields?.noEditables||[]),this.definedHidden.set(l?.fields?.noVisibles||[])})}),this.defaultValues=()=>({search:"",name:"",order:""})}static \u0275fac=function(e){return new(e||t)(m(D))};static \u0275cmp=y({type:t,selectors:[["type-view-search"]],standalone:!1,features:[ae(de.getValidableAccessorProvider(t)),ie],decls:4,vars:4,consts:[[3,"formGroup"],["formControlName","search","label","infrastructure.type.search.search"],["formControlName","name","label","infrastructure.type.search.name"],["formControlName","order","label","infrastructure.type.search.order",3,"options"]],template:function(e,o){e&1&&(p(0,"form-layout",0),Q(1,ht,1,0,"editable-text",1),Q(2,wt,1,0,"editable-text",2),Q(3,Mt,1,2,"editable-choose",3),c()),e&2&&(s("formGroup",o.form),r(),q(o.isVisible.search?1:-1),r(),q(o.isVisible.name?2:-1),r(),q(o.isVisible.order?3:-1))},dependencies:[ye,Y,ge,j,le,pe,ce],encapsulation:2})};function _t(t,i){t&1&&v(0,"editable-text",1)}var Z=class t extends fe{acl;uid=P(()=>this.value()?.uid);constructor(i){super(new se({uid:new V(""),name:new V("",[tt.required]),version:new V(0)})),this.acl=i.acl(),I(()=>{this.acl.fetch(this.uid()||null)}),I(()=>{let e=this.acl(),o=this.value(),l=this.uid()?e?.specific:e?.generic;setTimeout(()=>{this.definedFixed.set(l?.fields?.noEditables||[]),this.definedHidden.set(l?.fields?.noVisibles||[])})}),this.defaultValues=()=>({uid:"",name:"",version:0})}static \u0275fac=function(e){return new(e||t)(m(D))};static \u0275cmp=y({type:t,selectors:[["type-view-form-group"]],standalone:!1,features:[ae(de.getValidableAccessorProvider(t)),ie],decls:2,vars:2,consts:[[3,"formGroup"],["formControlName","name","label","infrastructure.type.form-group.name"]],template:function(e,o){e&1&&(p(0,"form-layout",0),Q(1,_t,1,0,"editable-text",1),c()),e&2&&(s("formGroup",o.form),r(),q(o.isVisible.name?1:-1))},dependencies:[Y,ge,j,le,pe,ce],encapsulation:2})};var Vt=["formTemplate"];function Dt(t,i){if(t&1){let e=W();v(0,"type-view-form-group",2,1),p(2,"div",3)(3,"button",4),K("click",function(){O(e);let l=M();return G(l.save())}),d(4),b(5,"transloco"),c()()}if(t&2){let e=N(1),o=M();s("formControl",o.form)("fixed",o.fixedProperties())("hidden",o.hiddenProperties())("defined",o.definedProperties()),r(3),s("disabled",e.form.invalid||!e.form.dirty),r(),S(" ",h(5,6,"infrastructure.type.action.create.createButton")," ")}}var De=class t{constructor(i,e){this.repository=i;this.acl=i.acl(),this.acl.fetch(null).subscribe(o=>{this.visibleValue.set(this.allowed(o?.generic))}),e.selectTranslateObject("action.create",{},"infrastructure/type").subscribe(o=>{o.label&&this.label.set(o.label),o.tooltip&&this.tooltip.set(o.tooltip),o.icon&&this.icon.set(o.icon),o.title&&this.title.set(o.title)})}name="create";contextual=!1;multiple=!1;container=n(void 0);selection=n([]);render=k("formTemplate");title=n("Creando nuevo type");label=n("Crear");icon=n("add");tooltip=n("Crea un nuevo item");default=f(!1);visibleValue=n(!1);enabledValue=n(!0);fixed=f();hidden=f();fixedProperties=P(()=>Object.keys(this.fixed()||{}));hiddenProperties=P(()=>Object.keys(this.hidden()||{}));definedProperties=P(()=>te(te({},this.hidden()||{}),this.fixed()||{}));form=new V(void 0);acl;visible(i){return this.visibleValue}enabled(i){return this.enabledValue}run(){this.form.patchValue({})}save(){let i=this.form.value;if(!i)throw Error("Unable to save without value");this.repository.add(i).subscribe(()=>this.container()?.close())}allowed(i){return!!i?.allows?.find(e=>e.name=="create")?.allowed}static \u0275fac=function(e){return new(e||t)(m(D),m($))};static \u0275cmp=y({type:t,selectors:[["type-view-create-action"]],viewQuery:function(e,o){e&1&&A(o.render,Vt,5),e&2&&F()},inputs:{default:[1,"default"],fixed:[1,"fixed"],hidden:[1,"hidden"]},standalone:!1,decls:2,vars:0,consts:[["formTemplate",""],["updateForm",""],[1,"main",3,"formControl","fixed","hidden","defined"],[1,"buttons"],["mat-raised-button","",3,"click","disabled"]],template:function(e,o){e&1&&T(0,Dt,6,8,"ng-template",null,0,R)},dependencies:[H,j,X,Z,z],styles:[".main[_ngcontent-%COMP%]{flex:1;display:flex;flex-direction:column;overflow:auto}.buttons[_ngcontent-%COMP%]{padding:20px 10px}"]})};var Ft=["dialogTemplate"];function Rt(t,i){t&1&&(p(0,"h2",1),d(1),b(2,"transloco"),c(),p(3,"mat-dialog-content")(4,"p"),d(5),b(6,"transloco"),c()(),p(7,"mat-dialog-actions")(8,"button",2),d(9),b(10,"transloco"),c(),p(11,"button",3),d(12),b(13,"transloco"),c()()),t&2&&(r(),J(h(2,6,"infrastructure.type.action.delete.title")),r(4),J(h(6,8,"infrastructure.type.action.delete.content")),r(3),s("mat-dialog-close",!1),r(),S(" ",h(10,10,"infrastructure.type.action.delete.cancelBtn")," "),r(2),s("mat-dialog-close",!0),r(),S(" ",h(13,12,"infrastructure.type.action.delete.okBtn")," "))}var Se=class t{constructor(i,e,o,l){this.repository=i;this.dialog=e;this.snakeBar=o;this.acl=i.acl(),this.acl.fetch(null).subscribe(a=>{this.visibleValue.set(this.allowed(a?.generic))}),l.selectTranslateObject("action.delete",{},"infrastructure/type").subscribe(a=>{a.label&&this.label.set(a.label),a.tooltip&&this.tooltip.set(a.tooltip),a.icon&&this.icon.set(a.icon),a.title&&this.title.set(a.title),a.dismiss&&(this.dismiss=a.dismiss),a.report&&(this.report=a.report)})}name="delete";contextual=!0;multiple=!1;container=n(void 0);selection=n([]);render=n(void 0);dialogTemplate=k("dialogTemplate");title=n("Borrando el item");label=n("Delete");icon=n("delete");tooltip=n("Borra el elemento seleccionado");default=f(!1);visibleValue=n(!1);enabledValue=n(!0);acl;dialgoRef;dialogSubs;dismiss="Close";report="Deleted...";visible(i){return this.visibleValue}enabled(i){return this.enabledValue}run(){let i=this.dialogTemplate();i&&(this.dialgoRef?.close(),this.dialgoRef=this.dialog.open(i),this.dialogSubs=this.dialgoRef.afterClosed().subscribe(e=>{e?this.delete(this.selection()[0]):this.container()?.close()}))}ngOnDestroy(){this.dialgoRef?.close(),this.dialogSubs?.unsubscribe()}delete(i){this.repository.deleteByKey(i.uid).subscribe(()=>{this.container()?.close(),this.snakeBar.open(this.report,this.dismiss,{duration:5e3})})}allowed(i){return!!i?.allows?.find(e=>e.name=="delete")?.allowed}static \u0275fac=function(e){return new(e||t)(m(D),m(Ce),m(xe),m($))};static \u0275cmp=y({type:t,selectors:[["type-view-delete-action"]],viewQuery:function(e,o){e&1&&A(o.dialogTemplate,Ft,5),e&2&&F()},inputs:{default:[1,"default"]},standalone:!1,decls:2,vars:0,consts:[["dialogTemplate",""],["mat-dialog-title",""],["mat-button","",3,"mat-dialog-close"],["mat-button","","cdkFocusInitial","",3,"mat-dialog-close"]],template:function(e,o){e&1&&T(0,Rt,14,14,"ng-template",null,0,R)},dependencies:[H,Te,be,we,he,z],styles:[".main[_ngcontent-%COMP%]{flex:1;display:flex;flex-direction:column;overflow:hidden}"]})};var It=["dialogTemplate"];function kt(t,i){t&1&&(p(0,"h2",1),d(1),b(2,"transloco"),c(),p(3,"mat-dialog-content")(4,"p"),d(5),b(6,"transloco"),c()(),p(7,"mat-dialog-actions")(8,"button",2),d(9),b(10,"transloco"),c(),p(11,"button",3),d(12),b(13,"transloco"),c()()),t&2&&(r(),J(h(2,6,"infrastructure.type.action.delete-selection.title")),r(4),J(h(6,8,"infrastructure.type.action.delete-selection.content")),r(3),s("mat-dialog-close",!1),r(),S(" ",h(10,10,"infrastructure.type.action.delete-selection.cancelBtn")," "),r(2),s("mat-dialog-close",!0),r(),S(" ",h(13,12,"infrastructure.type.action.delete-selection.okBtn")," "))}var Ae=class t{constructor(i,e,o,l){this.repository=i;this.dialog=e;this.snakeBar=o;this.acl=i.acl(),this.acl.fetch(null).subscribe(a=>{this.visibleValue.set(this.allowed(a?.generic))}),l.selectTranslateObject("action.delete-selection",{},"infrastructure/type").subscribe(a=>{a.label&&this.label.set(a.label),a.tooltip&&this.tooltip.set(a.tooltip),a.icon&&this.icon.set(a.icon),a.title&&this.title.set(a.title),a.dismiss&&(this.dismiss=a.dismiss),a.report&&(this.report=a.report),a.progress&&(this.progress=a.progress)})}name="deleteSelection";contextual=!0;multiple=!0;container=n(void 0);selection=n([]);render=n(void 0);dialogTemplate=k("dialogTemplate");title=n("Borrando el item");label=n("Delete");icon=n("delete");tooltip=n("Borra el elemento seleccionado");default=f(!1);visibleValue=n(!1);enabledValue=n(!0);acl;dialgoRef;dialogSubs;dismiss="Close";report="Deleted...";progress="Deleted...";visible(i){return this.visibleValue}enabled(i){return this.enabledValue}run(){let i=this.dialogTemplate();i&&(this.dialgoRef?.close(),this.dialgoRef=this.dialog.open(i),this.dialogSubs=this.dialgoRef.afterClosed().subscribe(e=>{e?this.deleteSelection(this.selection()):this.container()?.close()}))}ngOnDestroy(){this.dialgoRef?.close(),this.dialogSubs?.unsubscribe()}deleteSelection(i){let e={uids:i.map(o=>o.uid)};this.dialgoRef=this.dialog.open(st,{data:{title:this.progress,progress:this.repository.deleteSelection(e)}}),this.dialogSubs=this.dialgoRef.afterClosed().subscribe(o=>{this.container()?.selectionModel.clearSelection(),this.container()?.close(),this.snakeBar.open(this.report,this.dismiss,{duration:5e3})})}allowed(i){return this.repository.canDeleteSelection()&&!!i?.allows?.find(e=>e.name=="delete")?.allowed}static \u0275fac=function(e){return new(e||t)(m(D),m(Ce),m(xe),m($))};static \u0275cmp=y({type:t,selectors:[["type-view-delete-selection-action"]],viewQuery:function(e,o){e&1&&A(o.dialogTemplate,It,5),e&2&&F()},inputs:{default:[1,"default"]},standalone:!1,decls:2,vars:0,consts:[["dialogTemplate",""],["mat-dialog-title",""],["mat-button","",3,"mat-dialog-close"],["mat-button","","cdkFocusInitial","",3,"mat-dialog-close"]],template:function(e,o){e&1&&T(0,kt,14,14,"ng-template",null,0,R)},dependencies:[H,Te,be,we,he,z],styles:[".main[_ngcontent-%COMP%]{flex:1;display:flex;flex-direction:column;overflow:hidden}"]})};var Fe=class t{data=f.required();form=new V({value:void 0,disabled:!0});constructor(){I(()=>this.form.patchValue(this.data()))}static \u0275fac=function(e){return new(e||t)};static \u0275cmp=y({type:t,selectors:[["type-view-detail"]],inputs:{data:[1,"data"]},standalone:!1,decls:1,vars:1,consts:[[3,"formControl"]],template:function(e,o){e&1&&v(0,"type-view-form-group",0),e&2&&s("formControl",o.form)},dependencies:[j,X,Z],encapsulation:2})};var Bt=["formTemplate"];function Lt(t,i){if(t&1&&v(0,"type-view-detail",1),t&2){let e=M();s("data",e.selection()[0])}}var Re=class t{name="detail";contextual=!0;multiple=!1;container=n(void 0);selection=n([]);render=k("formTemplate");title=n("Detalle del item");label=n("Detalle");icon=n("preview");tooltip=n("Muestra el detalle del elemento seleccionado");default=f(!1);visibleValue=n(!1);enabledValue=n(!0);constructor(i){i.selectTranslateObject("action.detail",{},"infrastructure/type").subscribe(e=>{e.label&&this.label.set(e.label),e.tooltip&&this.tooltip.set(e.tooltip),e.icon&&this.icon.set(e.icon),e.title&&this.title.set(e.title)})}visible(i){return this.visibleValue}enabled(i){return this.enabledValue}run(){}allowed(i){return!!i?.allows?.find(e=>e.name=="retrieve")?.allowed}static \u0275fac=function(e){return new(e||t)(m($))};static \u0275cmp=y({type:t,selectors:[["type-view-detail-action"]],viewQuery:function(e,o){e&1&&A(o.render,Bt,5),e&2&&F()},inputs:{default:[1,"default"]},standalone:!1,decls:2,vars:0,consts:[["formTemplate",""],[1,"main",3,"data"]],template:function(e,o){e&1&&T(0,Lt,1,1,"ng-template",null,0,R)},dependencies:[Fe],styles:[".main[_ngcontent-%COMP%]{flex:1;display:flex;flex-direction:column;overflow:auto}"]})};var Gt=["formTemplate"];function Qt(t,i){if(t&1){let e=W();v(0,"type-view-form-group",2,1),p(2,"div",3)(3,"button",4),K("click",function(){O(e);let l=M();return G(l.save())}),d(4),b(5,"transloco"),c()()}if(t&2){let e=N(1),o=M();s("formControl",o.form)("fixed",o.fixedProperties())("hidden",o.hiddenProperties())("defined",o.definedProperties()),r(3),s("disabled",e.form.invalid||!e.form.dirty),r(),S(" ",h(5,6,"infrastructure.type.action.edit.saveBtn")," ")}}var Pe=class t{constructor(i,e){this.repository=i;this.acl=i.acl(),this.acl.fetch(null).subscribe(o=>{this.visibleValue.set(this.allowed(o?.generic))}),e.selectTranslateObject("action.edit",{},"infrastructure/type").subscribe(o=>{o.label&&this.label.set(o.label),o.tooltip&&this.tooltip.set(o.tooltip),o.icon&&this.icon.set(o.icon),o.title&&this.title.set(o.title)})}name="edit";contextual=!0;multiple=!1;container=n(void 0);selection=n([]);render=k("formTemplate");title=n("Editando el item");label=n("Editar");icon=n("edit_note");tooltip=n("Edita el elemento seleccionado");default=f(!1);visibleValue=n(!1);enabledValue=n(!0);fixed=f();hidden=f();fixedProperties=P(()=>Object.keys(this.fixed()||{}));hiddenProperties=P(()=>Object.keys(this.hidden()||{}));definedProperties=P(()=>te(te({},this.hidden()||{}),this.fixed()||{}));form=new V(void 0);acl;visible(i){return this.visibleValue}enabled(i){return this.enabledValue}run(){this.form.patchValue(this.selection()[0])}save(){let i=this.form.value;if(!i)throw Error("Unable to save without value");this.repository.update(i).subscribe(()=>this.container()?.close())}allowed(i){return!!i?.allows?.find(e=>e.name=="create")?.allowed}static \u0275fac=function(e){return new(e||t)(m(D),m($))};static \u0275cmp=y({type:t,selectors:[["type-view-edit-action"]],viewQuery:function(e,o){e&1&&A(o.render,Gt,5),e&2&&F()},inputs:{default:[1,"default"],fixed:[1,"fixed"],hidden:[1,"hidden"]},standalone:!1,decls:2,vars:0,consts:[["formTemplate",""],["createForm",""],[1,"main",3,"formControl","fixed","hidden","defined"],[1,"buttons"],["mat-raised-button","",3,"click","disabled"]],template:function(e,o){e&1&&T(0,Qt,6,8,"ng-template",null,0,R)},dependencies:[H,j,X,Z,z],styles:[".main[_ngcontent-%COMP%]{flex:1;display:flex;flex-direction:column;overflow:auto}.buttons[_ngcontent-%COMP%]{padding:20px 10px}"]})};var $t=["container"],zt=["*"];function Ht(t,i){t&1&&Ye(0)}var Ie=class t extends it{constructor(e){super();this.repository=e;this.acl=this.repository.acl(),this.activated=this.repository.projection([]),this.mapper={display:o=>o.uid,load:o=>(this.acl.fetch(o),this.activated.fetch(o),this.activated)},I(()=>{let o=this.actions()?.selectionModel.selected();(!o||o.length==0)&&(this.acl.reset(),this.activated.reset())})}actions=k("container");fixed=f();hidden=f();activated;acl;mapper;static \u0275fac=function(o){return new(o||t)(m(D))};static \u0275cmp=y({type:t,selectors:[["type-view-standar-actions"]],viewQuery:function(o,l){o&1&&A(l.actions,$t,5),o&2&&F()},inputs:{fixed:[1,"fixed"],hidden:[1,"hidden"]},standalone:!1,features:[ie],ngContentSelectors:zt,decls:14,vars:8,consts:[["container",""],["action",""],["masterTemplate",""],[3,"mapper","name"],[3,"fixed","hidden"],[3,"default","fixed","hidden"],[3,"default"]],template:function(o,l){o&1&&(Xe(),p(0,"action-container",3,0),v(2,"type-view-create-action",4,1)(4,"type-view-edit-action",5,1)(6,"type-view-detail-action",6,1)(8,"type-view-delete-action",null,1)(10,"type-view-delete-selection-action",null,1),T(12,Ht,1,0,"ng-template",null,2,R),c()),o&2&&(s("mapper",l.mapper)("name","type"),r(2),s("fixed",l.fixed())("hidden",l.hidden()),r(2),s("default",!0)("fixed",l.fixed())("hidden",l.hidden()),r(2),s("default",!0))},dependencies:[ve,De,Se,Ae,Re,Pe],styles:["[_nghost-%COMP%]{flex:1;display:flex;flex-direction:column;overflow:hidden}.main[_ngcontent-%COMP%]{flex:1;display:flex;flex-direction:column;overflow:hidden}.buttons[_ngcontent-%COMP%]{display:flex;padding:5px;flex-direction:row;align-items:center;align-self:flex-end}"]})};var gt=(t,i)=>({row:t,key:i});function Kt(t,i){t&1&&oe(0)}function Wt(t,i){if(t&1&&(p(0,"div",5),T(1,Kt,1,0,"ng-container",12),c()),t&2){M();let e=N(1);r(),s("ngTemplateOutlet",e.theSelectionTemplate()||null)}}function Jt(t,i){t&1&&oe(0)}function Xt(t,i){t&1&&(p(0,"mat-icon"),d(1,"keyboard_arrow_up"),c())}function Yt(t,i){t&1&&(p(0,"mat-icon"),d(1,"filter_list"),c())}function Zt(t,i){if(t&1){let e=W();p(0,"div",5),T(1,Jt,1,0,"ng-container",12),v(2,"div",13),p(3,"button",14),K("click",function(){O(e),M();let l=N(6);return G(l.toggle())}),Q(4,Xt,2,0,"mat-icon")(5,Yt,2,0,"mat-icon"),d(6),b(7,"transloco"),c(),p(8,"button",15),K("click",function(){O(e);let l=M();return G(l.reload())}),p(9,"mat-icon"),d(10,"refresh"),c()()()}if(t&2){M();let e=N(1),o=N(6);r(),s("ngTemplateOutlet",e.theToolbarTemplate()||null),r(3),q(o.expanded?4:5),r(2),S(" ",h(7,3,"infrastructure.type.list.filter.button")," ")}}function ei(t,i){t&1&&(p(0,"div",10)(1,"h1"),d(2,"No content"),c()())}function ti(t,i){if(t&1&&d(0),t&2){let e=i.$implicit;S(" ",e.name," ")}}function ii(t,i){t&1&&oe(0)}function oi(t,i){if(t&1&&T(0,ii,1,0,"ng-container",21),t&2){let e=i.$implicit;M(2);let o=N(1);s("ngTemplateOutlet",o.theContextTemplate()||null)("ngTemplateOutletContext",Ue(2,gt,e,e.uid))}}function ni(t,i){if(t&1&&d(0),t&2){let e=i.$implicit;S(" ",e.name," ")}}function ri(t,i){t&1&&oe(0)}function ai(t,i){if(t&1&&T(0,ri,1,0,"ng-container",21),t&2){let e=i.$implicit;M(2);let o=N(1);s("ngTemplateOutlet",o.theContextTemplate()||null)("ngTemplateOutletContext",Ue(2,gt,e,e.uid))}}function li(t,i){if(t&1){let e=W();p(0,"list-view",16),K("next",function(){O(e);let l=M();return G(l.next())})("prev",function(){O(e);let l=M();return G(l.prev())})("activate",function(l){O(e),M();let a=N(1);return G(a.defaultAction([l]))}),p(1,"list-view-row"),T(2,ti,1,1,"ng-template",17)(3,oi,1,5,"ng-template",18),c(),p(4,"list-view-table"),T(5,ni,1,1,"ng-template",19),b(6,"transloco"),b(7,"transloco"),T(8,ai,1,5,"ng-template",20),c()()}if(t&2){let e=M(),o=N(1);s("mode","list")("display",e.displayer)("searching",e.list.searching())("data",e.list())("selectionMultiple",!!o.hasMultiple())("selectionModel",o.selectionModel),r(5),s("title",He(h(6,10,"infrastructure.type.list.column.name.title")))("tooltip",He(h(7,12,"infrastructure.type.list.column.name.tooltip")))}}var ke=class t{filters=f();actionName=f("type");fixed=f();hidden=f();search=new V(void 0);list;displayer;constructor(i){this.displayer=i.displayProvider(),this.list=i.projections([]),I(()=>{setTimeout(()=>this.makeSearch())})}makeSearch(){let i={limit:10},e=this.search.value,o=this.filters();o?.search&&(i.search=o.search),o?.name&&(i.name=o.name),e?.search&&(i.search=e.search),e?.name&&(i.name=e.name),e?.order&&(i.order=e.order),this.list.fetch(i)}next(){this.list.next()}reload(){this.list.reset()}prev(){console.log("PREV")}static \u0275fac=function(e){return new(e||t)(m(D))};static \u0275cmp=y({type:t,selectors:[["type-view-list"]],inputs:{filters:[1,"filters"],actionName:[1,"actionName"],fixed:[1,"fixed"],hidden:[1,"hidden"]},standalone:!1,decls:18,vars:13,consts:[["actions",""],["panel",""],["searchForm",""],[3,"hidden","fixed"],[1,"table-toolbar"],[2,"display","flex","flex-direction","row","padding","10px 10px 0 10px","align-items","center"],[2,"margin","10px"],[3,"formControl"],["mat-raised-button","",3,"click","disabled"],[1,"main"],[1,"page"],[3,"mode","display","searching","data","selectionMultiple","selectionModel"],[4,"ngTemplateOutlet"],[2,"flex","1"],["mat-raised-button","",3,"click"],["mat-icon-button","",3,"click"],[3,"next","prev","activate","mode","display","searching","data","selectionMultiple","selectionModel"],["listViewRowTitle",""],["listViewRowAction",""],["listViewColumn","",3,"title","tooltip"],["listViewColumn",""],[4,"ngTemplateOutlet","ngTemplateOutletContext"]],template:function(e,o){if(e&1){let l=W();p(0,"type-view-standar-actions",3,0)(2,"div",4),Q(3,Wt,2,1,"div",5),Q(4,Zt,11,5,"div",5),p(5,"mat-expansion-panel",6,1)(7,"h2"),d(8),b(9,"transloco"),c(),v(10,"type-view-search",7,2),p(12,"button",8),K("click",function(){return O(l),G(o.makeSearch())}),d(13),b(14,"transloco"),c()()(),p(15,"div",9),Q(16,ei,3,0,"div",10)(17,li,9,14,"list-view",11),c()()}if(e&2){let l,a=N(1),Je=N(11);s("hidden",o.hidden())("fixed",o.fixed()),r(3),q(a.hasMultiple()&&a.hasSelection()?3:-1),r(),q(!a.hasMultiple()||!a.hasSelection()?4:-1),r(4),J(h(9,9,"infrastructure.type.list.search.title")),r(2),s("formControl",o.search),r(2),s("disabled",Je.form.invalid||!Je.form.dirty),r(),S(" ",h(14,11,"infrastructure.type.list.search.button")," "),r(3),q(!o.list.searching()&&((l=o.list())==null?null:l.length)==0?16:17)}},dependencies:[et,ut,pt,ct,mt,dt,ft,H,rt,at,ot,j,X,Ve,Ie,z],styles:["[_nghost-%COMP%]{flex:1;display:flex;flex-direction:column;overflow:hidden}.main[_ngcontent-%COMP%]{flex:1;display:flex;flex-direction:column;overflow:hidden}.page[_ngcontent-%COMP%]{padding:10px 50px}.page[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-size:var(--mat-sys-title-large-size);font-family:var(--mat-sys-title-large-font)}"]})};var Ee=class t{static \u0275fac=function(e){return new(e||t)};static \u0275cmp=y({type:t,selectors:[["type-view-list-page"]],standalone:!1,decls:1,vars:0,template:function(e,o){e&1&&v(0,"type-view-list")},dependencies:[ke],styles:["[_nghost-%COMP%]{flex:1;display:flex;flex-direction:column;overflow:hidden;border-radius:var(--mat-sys-corner-medium);box-shadow:var(--mat-sys-level3);margin:15px}"]})};var L=class t{static \u0275fac=function(e){return new(e||t)};static \u0275mod=g({type:t});static \u0275inj=u({providers:[w({scope:"infrastructure/type",alias:"infrastructure.type"})],imports:[_,Y,me,ue,x]})};var je=class t{static \u0275fac=function(e){return new(e||t)};static \u0275mod=g({type:t});static \u0275inj=u({providers:[w({scope:"infrastructure/type",alias:"infrastructure.type"})],imports:[_,B,x,E,L]})};var Be=class t{static \u0275fac=function(e){return new(e||t)};static \u0275mod=g({type:t});static \u0275inj=u({providers:[w({scope:"infrastructure/type",alias:"infrastructure.type"})],imports:[_,B,x,E,L]})};var Le=class t{static \u0275fac=function(e){return new(e||t)};static \u0275mod=g({type:t});static \u0275inj=u({providers:[w({scope:"infrastructure/type",alias:"infrastructure.type"})],imports:[x,L]})};var Oe=class t{static \u0275fac=function(e){return new(e||t)};static \u0275mod=g({type:t});static \u0275inj=u({providers:[w({scope:"infrastructure/type",alias:"infrastructure.type"})],imports:[_,B,x,E,Le]})};var Ge=class t{static \u0275fac=function(e){return new(e||t)};static \u0275mod=g({type:t});static \u0275inj=u({providers:[w({scope:"infrastructure/type",alias:"infrastructure.type"})],imports:[_,B,Me,_e,x,E,L]})};var Qe=class t{static \u0275fac=function(e){return new(e||t)};static \u0275mod=g({type:t});static \u0275inj=u({providers:[w({scope:"infrastructure/type",alias:"infrastructure.type"})],imports:[_,B,Me,_e,x,E,L]})};var qe=class t{static \u0275fac=function(e){return new(e||t)};static \u0275mod=g({type:t});static \u0275inj=u({providers:[w({scope:"infrastructure/type",alias:"infrastructure.type"})],imports:[ve,je,Ge,Qe,Oe,Be]})};var $e=class t{static \u0275fac=function(e){return new(e||t)};static \u0275mod=g({type:t});static \u0275inj=u({providers:[w({scope:"infrastructure/type",alias:"infrastructure.type"})],imports:[_,ye,Y,me,ue,x]})};var ze=class t{static \u0275fac=function(e){return new(e||t)};static \u0275mod=g({type:t});static \u0275inj=u({providers:[w({scope:"infrastructure/type",alias:"infrastructure.type"})],imports:[_,yt,B,lt,nt,x,E,$e,qe]})};var pi=[{path:"",component:Ee}],vt=class t{static \u0275fac=function(e){return new(e||t)};static \u0275mod=g({type:t});static \u0275inj=u({imports:[Ke.forChild(pi),ze,Ke]})};export{vt as TypeViewListRouteModule};
